{"version":3,"file":"46728403e5e1496ad0e101599887155db0278601-f6d47d7f7702b35bfca8.js","mappings":"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","sources":["webpack://emperor/./node_modules/camelcase/index.js","webpack://emperor/./node_modules/classnames/index.js","webpack://emperor/../lib/adjustDateDay.ts","webpack://emperor/../lib/adjustDateMonth.ts","webpack://emperor/../lib/adjustDateYear.ts","webpack://emperor/../lib/capitalise.ts","webpack://emperor/../lib/checkIfDatePartsMatch.ts","webpack://emperor/../lib/compose.ts","webpack://emperor/../../lib/constants/monthNames.ts","webpack://emperor/../../lib/constants/types.ts","webpack://emperor/../lib/convertToBase64.ts","webpack://emperor/../lib/datesAreEqual.ts","webpack://emperor/../lib/daysDifferenceBetweenDates.ts","webpack://emperor/../lib/daysDifferenceFromMonday.ts","webpack://emperor/../lib/daysDifferenceFromSunday.ts","webpack://emperor/../lib/debounce.ts","webpack://emperor/../lib/formatDateForInput.ts","webpack://emperor/../lib/fromCamelCase.ts","webpack://emperor/../lib/generateUniqueId.ts","webpack://emperor/../lib/getDatesAsMsAtMidnight.ts","webpack://emperor/../lib/getDaysInMonthForDate.ts","webpack://emperor/../lib/getElementCoordinates.ts","webpack://emperor/../lib/getEventValue.ts","webpack://emperor/../lib/getFirstDateOfMonth.ts","webpack://emperor/../lib/getLastDateOfMonth.ts","webpack://emperor/../lib/getMonthName.ts","webpack://emperor/../lib/getOrdinalSuffix.ts","webpack://emperor/../lib/getTimeout.ts","webpack://emperor/../lib/getWeekBeginning.ts","webpack://emperor/../lib/getWeekEnding.ts","webpack://emperor/../lib/getWeekExtreme.ts","webpack://emperor/../lib/isArray.ts","webpack://emperor/../lib/isBefore.ts","webpack://emperor/../lib/isNumber.ts","webpack://emperor/../lib/isObject.ts","webpack://emperor/../lib/isString.ts","webpack://emperor/../lib/isTypeOf.ts","webpack://emperor/../lib/padNumber.ts","webpack://emperor/../lib/parseIfInt.ts","webpack://emperor/../lib/setTimeForDate.ts","webpack://emperor/../lib/startOfDay.ts","webpack://emperor/../src/image-utils.ts","webpack://emperor/../src/components/hooks.ts","webpack://emperor/../src/components/layout-wrapper.tsx","webpack://emperor/../src/components/picture.tsx","webpack://emperor/../src/components/placeholder.tsx","webpack://emperor/../src/components/main-image.tsx","webpack://emperor/../src/components/gatsby-image.server.tsx","webpack://emperor/../src/components/gatsby-image.browser.tsx","webpack://emperor/../src/components/static-image.server.tsx","webpack://emperor/../src/components/static-image.tsx","webpack://emperor/./src/components/GoTo/index.tsx","webpack://emperor/./src/components/Table/index.tsx","webpack://emperor/./src/utils/orderedGroupBy.ts","webpack://emperor/./src/components/Listing/index.tsx","webpack://emperor/./src/components/Listing/ListingItem.tsx","webpack://emperor/./src/utils/displayReignLength.ts","webpack://emperor/./src/utils/slugToIdentifier.ts","webpack://emperor/../meiko/build/AutocompleteInput.js","webpack://emperor/../meiko/build/AutocompleteInputSuggestionItem.js","webpack://emperor/../meiko/build/ClearableInput.js","webpack://emperor/../meiko/build/TabTrap.js","webpack://emperor/../meiko/build/constants/enums.js","webpack://emperor/../meiko/build/hooks/useOutsideClick.js","webpack://emperor/../meiko/build/hooks/usePrevious.js","webpack://emperor/../meiko/build/styles/AutocompleteInput.js","webpack://emperor/../meiko/build/styles/ClearableInput.js","webpack://emperor/../meiko/build/styles/TabTrap.js","webpack://emperor/../meiko/build/utils/addOutsideClick.js","webpack://emperor/../meiko/build/utils/index.js","webpack://emperor/../meiko/node_modules/@seznam/compose-react-refs/composeRefs.js","webpack://emperor/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://emperor/./node_modules/@babel/runtime/helpers/createClass.js","webpack://emperor/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://emperor/./node_modules/@babel/runtime/helpers/inherits.js","webpack://emperor/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"],"sourcesContent":["'use strict';\n\nconst UPPERCASE = /[\\p{Lu}]/u;\nconst LOWERCASE = /[\\p{Ll}]/u;\nconst LEADING_CAPITAL = /^[\\p{Lu}](?![\\p{Lu}])/gu;\nconst IDENTIFIER = /([\\p{Alpha}\\p{N}_]|$)/u;\nconst SEPARATORS = /[_.\\- ]+/;\n\nconst LEADING_SEPARATORS = new RegExp('^' + SEPARATORS.source);\nconst SEPARATORS_AND_IDENTIFIER = new RegExp(SEPARATORS.source + IDENTIFIER.source, 'gu');\nconst NUMBERS_AND_IDENTIFIER = new RegExp('\\\\d+' + IDENTIFIER.source, 'gu');\n\nconst preserveCamelCase = (string, toLowerCase, toUpperCase) => {\n\tlet isLastCharLower = false;\n\tlet isLastCharUpper = false;\n\tlet isLastLastCharUpper = false;\n\n\tfor (let i = 0; i < string.length; i++) {\n\t\tconst character = string[i];\n\n\t\tif (isLastCharLower && UPPERCASE.test(character)) {\n\t\t\tstring = string.slice(0, i) + '-' + string.slice(i);\n\t\t\tisLastCharLower = false;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = true;\n\t\t\ti++;\n\t\t} else if (isLastCharUpper && isLastLastCharUpper && LOWERCASE.test(character)) {\n\t\t\tstring = string.slice(0, i - 1) + '-' + string.slice(i - 1);\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = false;\n\t\t\tisLastCharLower = true;\n\t\t} else {\n\t\t\tisLastCharLower = toLowerCase(character) === character && toUpperCase(character) !== character;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = toUpperCase(character) === character && toLowerCase(character) !== character;\n\t\t}\n\t}\n\n\treturn string;\n};\n\nconst preserveConsecutiveUppercase = (input, toLowerCase) => {\n\tLEADING_CAPITAL.lastIndex = 0;\n\n\treturn input.replace(LEADING_CAPITAL, m1 => toLowerCase(m1));\n};\n\nconst postProcess = (input, toUpperCase) => {\n\tSEPARATORS_AND_IDENTIFIER.lastIndex = 0;\n\tNUMBERS_AND_IDENTIFIER.lastIndex = 0;\n\n\treturn input.replace(SEPARATORS_AND_IDENTIFIER, (_, identifier) => toUpperCase(identifier))\n\t\t.replace(NUMBERS_AND_IDENTIFIER, m => toUpperCase(m));\n};\n\nconst camelCase = (input, options) => {\n\tif (!(typeof input === 'string' || Array.isArray(input))) {\n\t\tthrow new TypeError('Expected the input to be `string | string[]`');\n\t}\n\n\toptions = {\n\t\tpascalCase: false,\n\t\tpreserveConsecutiveUppercase: false,\n\t\t...options\n\t};\n\n\tif (Array.isArray(input)) {\n\t\tinput = input.map(x => x.trim())\n\t\t\t.filter(x => x.length)\n\t\t\t.join('-');\n\t} else {\n\t\tinput = input.trim();\n\t}\n\n\tif (input.length === 0) {\n\t\treturn '';\n\t}\n\n\tconst toLowerCase = options.locale === false ?\n\t\tstring => string.toLowerCase() :\n\t\tstring => string.toLocaleLowerCase(options.locale);\n\tconst toUpperCase = options.locale === false ?\n\t\tstring => string.toUpperCase() :\n\t\tstring => string.toLocaleUpperCase(options.locale);\n\n\tif (input.length === 1) {\n\t\treturn options.pascalCase ? toUpperCase(input) : toLowerCase(input);\n\t}\n\n\tconst hasUpperCase = input !== toLowerCase(input);\n\n\tif (hasUpperCase) {\n\t\tinput = preserveCamelCase(input, toLowerCase, toUpperCase);\n\t}\n\n\tinput = input.replace(LEADING_SEPARATORS, '');\n\n\tif (options.preserveConsecutiveUppercase) {\n\t\tinput = preserveConsecutiveUppercase(input, toLowerCase);\n\t} else {\n\t\tinput = toLowerCase(input);\n\t}\n\n\tif (options.pascalCase) {\n\t\tinput = toUpperCase(input.charAt(0)) + input.slice(1);\n\t}\n\n\treturn postProcess(input, toUpperCase);\n};\n\nmodule.exports = camelCase;\n// TODO: Remove this for the next major release\nmodule.exports.default = camelCase;\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import camelCase from \"camelcase\"\nimport type { IGatsbyImageData } from \"./index\"\n\nconst DEFAULT_PIXEL_DENSITIES = [0.25, 0.5, 1, 2]\nexport const DEFAULT_BREAKPOINTS = [750, 1080, 1366, 1920]\nexport const EVERY_BREAKPOINT = [\n  320, 654, 768, 1024, 1366, 1600, 1920, 2048, 2560, 3440, 3840, 4096,\n]\nconst DEFAULT_FLUID_WIDTH = 800\nconst DEFAULT_FIXED_WIDTH = 800\nconst DEFAULT_ASPECT_RATIO = 4 / 3\n\nexport type Fit = \"cover\" | \"fill\" | \"inside\" | \"outside\" | \"contain\"\n\nexport type Layout = \"fixed\" | \"fullWidth\" | \"constrained\"\nexport type ImageFormat = \"jpg\" | \"png\" | \"webp\" | \"avif\" | \"auto\" | \"\"\n\n/**\n * The minimal required reporter, as we don't want to import it from gatsby-cli\n */\nexport interface IReporter {\n  warn(message: string): void\n}\n\nexport interface ISharpGatsbyImageArgs {\n  layout?: Layout\n  formats?: Array<ImageFormat>\n  placeholder?: \"tracedSVG\" | \"dominantColor\" | \"blurred\" | \"none\"\n  tracedSVGOptions?: Record<string, unknown>\n  width?: number\n  height?: number\n  aspectRatio?: number\n  sizes?: string\n  quality?: number\n  transformOptions?: {\n    fit?: Fit\n    cropFocus?: number | string\n    duotone?: {\n      highlight: string\n      shadow: string\n      opacity?: number\n    }\n    grayscale?: boolean\n    rotate?: number\n    trim?: number\n  }\n  jpgOptions?: Record<string, unknown>\n  pngOptions?: Record<string, unknown>\n  webpOptions?: Record<string, unknown>\n  avifOptions?: Record<string, unknown>\n  blurredOptions?: { width?: number; toFormat?: ImageFormat }\n  breakpoints?: Array<number>\n  outputPixelDensities?: Array<number>\n  backgroundColor?: string\n}\n\nexport interface IImageSizeArgs {\n  width?: number\n  height?: number\n  layout?: Layout\n  filename: string\n  outputPixelDensities?: Array<number>\n  breakpoints?: Array<number>\n  fit?: Fit\n  reporter?: IReporter\n  sourceMetadata: { width: number; height: number }\n}\n\nexport interface IImageSizes {\n  sizes: Array<number>\n  presentationWidth: number\n  presentationHeight: number\n  aspectRatio: number\n  unscaledWidth: number\n}\n\nexport interface IImage {\n  src: string\n  width: number\n  height: number\n  format: ImageFormat\n}\n\nexport interface IGatsbyImageHelperArgs {\n  pluginName: string\n  generateImageSource: (\n    filename: string,\n    width: number,\n    height: number,\n    format: ImageFormat,\n    fit?: Fit,\n    options?: Record<string, unknown>\n  ) => IImage\n  layout?: Layout\n  formats?: Array<ImageFormat>\n  filename: string\n  placeholderURL?: string\n  width?: number\n  height?: number\n  sizes?: string\n  reporter?: IReporter\n  sourceMetadata?: { width: number; height: number; format: ImageFormat }\n  fit?: Fit\n  options?: Record<string, unknown>\n  breakpoints?: Array<number>\n  backgroundColor?: string\n  aspectRatio?: number\n}\n\nconst warn = (message: string): void => console.warn(message)\n\nconst sortNumeric = (a: number, b: number): number => a - b\n\nexport const getSizes = (width: number, layout: Layout): string | undefined => {\n  switch (layout) {\n    // If screen is wider than the max size, image width is the max size,\n    // otherwise it's the width of the screen\n    case `constrained`:\n      return `(min-width: ${width}px) ${width}px, 100vw`\n\n    // Image is always the same width, whatever the size of the screen\n    case `fixed`:\n      return `${width}px`\n\n    // Image is always the width of the screen\n    case `fullWidth`:\n      return `100vw`\n\n    default:\n      return undefined\n  }\n}\n\nexport const getSrcSet = (images: Array<IImage>): string =>\n  images.map(image => `${image.src} ${image.width}w`).join(`,\\n`)\n\nexport function formatFromFilename(filename: string): ImageFormat | undefined {\n  const dot = filename.lastIndexOf(`.`)\n  if (dot !== -1) {\n    const ext = filename.slice(dot + 1)\n    if (ext === `jpeg`) {\n      return `jpg`\n    }\n    if (ext.length === 3 || ext.length === 4) {\n      return ext as ImageFormat\n    }\n  }\n  return undefined\n}\n\nexport function setDefaultDimensions(\n  args: IGatsbyImageHelperArgs\n): IGatsbyImageHelperArgs {\n  let {\n    layout = `constrained`,\n    width,\n    height,\n    sourceMetadata,\n    breakpoints,\n    aspectRatio,\n    formats = [`auto`, `webp`],\n  } = args\n  formats = formats.map(format => format.toLowerCase() as ImageFormat)\n  layout = camelCase(layout) as Layout\n\n  if (width && height) {\n    return { ...args, formats, layout, aspectRatio: width / height }\n  }\n  if (sourceMetadata.width && sourceMetadata.height && !aspectRatio) {\n    aspectRatio = sourceMetadata.width / sourceMetadata.height\n  }\n\n  if (layout === `fullWidth`) {\n    width = width || sourceMetadata.width || breakpoints[breakpoints.length - 1]\n    height = height || Math.round(width / (aspectRatio || DEFAULT_ASPECT_RATIO))\n  } else {\n    if (!width) {\n      if (height && aspectRatio) {\n        width = height * aspectRatio\n      } else if (sourceMetadata.width) {\n        width = sourceMetadata.width\n      } else if (height) {\n        width = Math.round(height / DEFAULT_ASPECT_RATIO)\n      } else {\n        width = DEFAULT_FIXED_WIDTH\n      }\n    }\n\n    if (aspectRatio && !height) {\n      height = Math.round(width / aspectRatio)\n    } else if (!aspectRatio) {\n      aspectRatio = width / height\n    }\n  }\n  return { ...args, width, height, aspectRatio, layout, formats }\n}\n\n/**\n * Use this for getting an image for the blurred placeholder. This ensures the\n * aspect ratio and crop match the main image\n */\nexport function getLowResolutionImageURL(\n  args: IGatsbyImageHelperArgs,\n  width = 20\n): string {\n  args = setDefaultDimensions(args)\n  const { generateImageSource, filename, aspectRatio } = args\n  return generateImageSource(\n    filename,\n    width,\n    Math.round(width / aspectRatio),\n    args.sourceMetadata.format || `jpg`,\n    args.fit,\n    args.options\n  )?.src\n}\n\nexport function generateImageData(\n  args: IGatsbyImageHelperArgs\n): IGatsbyImageData {\n  args = setDefaultDimensions(args)\n\n  let {\n    pluginName,\n    sourceMetadata,\n    generateImageSource,\n    layout,\n    fit,\n    options,\n    width,\n    height,\n    filename,\n    reporter = { warn },\n    backgroundColor,\n    placeholderURL,\n  } = args\n\n  if (!pluginName) {\n    reporter.warn(\n      `[gatsby-plugin-image] \"generateImageData\" was not passed a plugin name`\n    )\n  }\n\n  if (typeof generateImageSource !== `function`) {\n    throw new Error(`generateImageSource must be a function`)\n  }\n\n  if (!sourceMetadata || (!sourceMetadata.width && !sourceMetadata.height)) {\n    // No metadata means we let the CDN handle max size etc, aspect ratio etc\n    sourceMetadata = {\n      width,\n      height,\n      format: sourceMetadata?.format || formatFromFilename(filename) || `auto`,\n    }\n  } else if (!sourceMetadata.format) {\n    sourceMetadata.format = formatFromFilename(filename)\n  }\n\n  const formats = new Set<ImageFormat>(args.formats)\n\n  if (formats.size === 0 || formats.has(`auto`) || formats.has(``)) {\n    formats.delete(`auto`)\n    formats.delete(``)\n    formats.add(sourceMetadata.format)\n  }\n\n  if (formats.has(`jpg`) && formats.has(`png`)) {\n    reporter.warn(\n      `[${pluginName}] Specifying both 'jpg' and 'png' formats is not supported. Using 'auto' instead`\n    )\n    if (sourceMetadata.format === `jpg`) {\n      formats.delete(`png`)\n    } else {\n      formats.delete(`jpg`)\n    }\n  }\n\n  const imageSizes = calculateImageSizes({ ...args, sourceMetadata })\n\n  const result: IGatsbyImageData[\"images\"] = {\n    sources: [],\n  }\n\n  let sizes = args.sizes\n  if (!sizes) {\n    sizes = getSizes(imageSizes.presentationWidth, layout)\n  }\n\n  formats.forEach(format => {\n    const images = imageSizes.sizes\n      .map(size => {\n        const imageSrc = generateImageSource(\n          filename,\n          size,\n          Math.round(size / imageSizes.aspectRatio),\n          format,\n          fit,\n          options\n        )\n        if (\n          !imageSrc?.width ||\n          !imageSrc.height ||\n          !imageSrc.src ||\n          !imageSrc.format\n        ) {\n          reporter.warn(\n            `[${pluginName}] The resolver for image ${filename} returned an invalid value.`\n          )\n          return undefined\n        }\n        return imageSrc\n      })\n      .filter(Boolean)\n\n    if (format === `jpg` || format === `png` || format === `auto`) {\n      const unscaled =\n        images.find(img => img.width === imageSizes.unscaledWidth) || images[0]\n\n      if (unscaled) {\n        result.fallback = {\n          src: unscaled.src,\n          srcSet: getSrcSet(images),\n          sizes,\n        }\n      }\n    } else {\n      result.sources?.push({\n        srcSet: getSrcSet(images),\n        sizes,\n        type: `image/${format}`,\n      })\n    }\n  })\n\n  const imageProps: Partial<IGatsbyImageData> = {\n    images: result,\n    layout,\n    backgroundColor,\n  }\n\n  if (placeholderURL) {\n    imageProps.placeholder = { fallback: placeholderURL }\n  }\n\n  switch (layout) {\n    case `fixed`:\n      imageProps.width = imageSizes.presentationWidth\n      imageProps.height = imageSizes.presentationHeight\n      break\n\n    case `fullWidth`:\n      imageProps.width = 1\n      imageProps.height = 1 / imageSizes.aspectRatio\n      break\n\n    case `constrained`:\n      imageProps.width = args.width || imageSizes.presentationWidth || 1\n      imageProps.height = (imageProps.width || 1) / imageSizes.aspectRatio\n  }\n\n  return imageProps as IGatsbyImageData\n}\n\nconst dedupeAndSortDensities = (values: Array<number>): Array<number> =>\n  Array.from(new Set([1, ...values])).sort(sortNumeric)\n\nexport function calculateImageSizes(args: IImageSizeArgs): IImageSizes {\n  const {\n    width,\n    height,\n    filename,\n    layout = `constrained`,\n    sourceMetadata: imgDimensions,\n    reporter = { warn },\n    breakpoints = DEFAULT_BREAKPOINTS,\n  } = args\n\n  // check that all dimensions provided are positive\n  const userDimensions = { width, height }\n  const erroneousUserDimensions = Object.entries(userDimensions).filter(\n    ([_, size]) => typeof size === `number` && size < 1\n  )\n  if (erroneousUserDimensions.length) {\n    throw new Error(\n      `Specified dimensions for images must be positive numbers (> 0). Problem dimensions you have are ${erroneousUserDimensions\n        .map(dim => dim.join(`: `))\n        .join(`, `)}`\n    )\n  }\n\n  if (layout === `fixed`) {\n    return fixedImageSizes(args)\n  } else if (layout === `constrained`) {\n    return responsiveImageSizes(args)\n  } else if (layout === `fullWidth`) {\n    return responsiveImageSizes({ breakpoints, ...args })\n  } else {\n    reporter.warn(\n      `No valid layout was provided for the image at ${filename}. Valid image layouts are fixed, fullWidth, and constrained. Found ${layout}`\n    )\n    return {\n      sizes: [imgDimensions.width],\n      presentationWidth: imgDimensions.width,\n      presentationHeight: imgDimensions.height,\n      aspectRatio: imgDimensions.width / imgDimensions.height,\n      unscaledWidth: imgDimensions.width,\n    }\n  }\n}\nexport function fixedImageSizes({\n  filename,\n  sourceMetadata: imgDimensions,\n  width,\n  height,\n  fit = `cover`,\n  outputPixelDensities = DEFAULT_PIXEL_DENSITIES,\n  reporter = { warn },\n}: IImageSizeArgs): IImageSizes {\n  let aspectRatio = imgDimensions.width / imgDimensions.height\n  // Sort, dedupe and ensure there's a 1\n  const densities = dedupeAndSortDensities(outputPixelDensities)\n\n  // If both are provided then we need to check the fit\n  if (width && height) {\n    const calculated = getDimensionsAndAspectRatio(imgDimensions, {\n      width,\n      height,\n      fit,\n    })\n    width = calculated.width\n    height = calculated.height\n    aspectRatio = calculated.aspectRatio\n  }\n\n  if (!width) {\n    if (!height) {\n      width = DEFAULT_FIXED_WIDTH\n    } else {\n      width = Math.round(height * aspectRatio)\n    }\n  } else if (!height) {\n    height = Math.round(width / aspectRatio)\n  }\n\n  const originalWidth = width // will use this for presentationWidth, don't want to lose it\n  const isTopSizeOverriden =\n    imgDimensions.width < width || imgDimensions.height < (height as number)\n\n  // If the image is smaller than requested, warn the user that it's being processed as such\n  // print out this message with the necessary information before we overwrite it for sizing\n  if (isTopSizeOverriden) {\n    const fixedDimension = imgDimensions.width < width ? `width` : `height`\n    reporter.warn(`\nThe requested ${fixedDimension} \"${\n      fixedDimension === `width` ? width : height\n    }px\" for the image ${filename} was larger than the actual image ${fixedDimension} of ${\n      imgDimensions[fixedDimension]\n    }px. If possible, replace the current image with a larger one.`)\n\n    if (fixedDimension === `width`) {\n      width = imgDimensions.width\n      height = Math.round(width / aspectRatio)\n    } else {\n      height = imgDimensions.height\n      width = height * aspectRatio\n    }\n  }\n\n  const sizes = densities\n    .filter(size => size >= 1) // remove smaller densities because fixed images don't need them\n    .map(density => Math.round(density * (width as number)))\n    .filter(size => size <= imgDimensions.width)\n\n  return {\n    sizes,\n    aspectRatio,\n    presentationWidth: originalWidth,\n    presentationHeight: Math.round(originalWidth / aspectRatio),\n    unscaledWidth: width,\n  }\n}\n\nexport function responsiveImageSizes({\n  sourceMetadata: imgDimensions,\n  width,\n  height,\n  fit = `cover`,\n  outputPixelDensities = DEFAULT_PIXEL_DENSITIES,\n  breakpoints,\n  layout,\n}: IImageSizeArgs): IImageSizes {\n  let sizes\n  let aspectRatio = imgDimensions.width / imgDimensions.height\n  // Sort, dedupe and ensure there's a 1\n  const densities = dedupeAndSortDensities(outputPixelDensities)\n\n  // If both are provided then we need to check the fit\n  if (width && height) {\n    const calculated = getDimensionsAndAspectRatio(imgDimensions, {\n      width,\n      height,\n      fit,\n    })\n    width = calculated.width\n    height = calculated.height\n    aspectRatio = calculated.aspectRatio\n  }\n\n  // Case 1: width of height were passed in, make sure it isn't larger than the actual image\n  width = width && Math.min(width, imgDimensions.width)\n  height = height && Math.min(height, imgDimensions.height)\n\n  // Case 2: neither width or height were passed in, use default size\n  if (!width && !height) {\n    width = Math.min(DEFAULT_FLUID_WIDTH, imgDimensions.width)\n    height = width / aspectRatio\n  }\n\n  // if it still hasn't been found, calculate width from the derived height.\n  // TS isn't smart enough to realise the type for height has been narrowed here\n  if (!width) {\n    width = (height as number) * aspectRatio\n  }\n\n  const originalWidth = width\n  const isTopSizeOverriden =\n    imgDimensions.width < width || imgDimensions.height < (height as number)\n  if (isTopSizeOverriden) {\n    width = imgDimensions.width\n    height = imgDimensions.height\n  }\n\n  width = Math.round(width)\n\n  if (breakpoints?.length > 0) {\n    sizes = breakpoints.filter(size => size <= imgDimensions.width)\n\n    // If a larger breakpoint has been filtered-out, add the actual image width instead\n    if (\n      sizes.length < breakpoints.length &&\n      !sizes.includes(imgDimensions.width)\n    ) {\n      sizes.push(imgDimensions.width)\n    }\n  } else {\n    sizes = densities.map(density => Math.round(density * (width as number)))\n    sizes = sizes.filter(size => size <= imgDimensions.width)\n  }\n\n  // ensure that the size passed in is included in the final output\n  if (layout === `constrained` && !sizes.includes(width)) {\n    sizes.push(width)\n  }\n  sizes = sizes.sort(sortNumeric)\n  return {\n    sizes,\n    aspectRatio,\n    presentationWidth: originalWidth,\n    presentationHeight: Math.round(originalWidth / aspectRatio),\n    unscaledWidth: width,\n  }\n}\n\nexport function getDimensionsAndAspectRatio(\n  dimensions,\n  options\n): { width: number; height: number; aspectRatio: number } {\n  // Calculate the eventual width/height of the image.\n  const imageAspectRatio = dimensions.width / dimensions.height\n\n  let width = options.width\n  let height = options.height\n\n  switch (options.fit) {\n    case `fill`: {\n      width = options.width ? options.width : dimensions.width\n      height = options.height ? options.height : dimensions.height\n      break\n    }\n    case `inside`: {\n      const widthOption = options.width\n        ? options.width\n        : Number.MAX_SAFE_INTEGER\n      const heightOption = options.height\n        ? options.height\n        : Number.MAX_SAFE_INTEGER\n\n      width = Math.min(widthOption, Math.round(heightOption * imageAspectRatio))\n      height = Math.min(\n        heightOption,\n        Math.round(widthOption / imageAspectRatio)\n      )\n      break\n    }\n    case `outside`: {\n      const widthOption = options.width ? options.width : 0\n      const heightOption = options.height ? options.height : 0\n\n      width = Math.max(widthOption, Math.round(heightOption * imageAspectRatio))\n      height = Math.max(\n        heightOption,\n        Math.round(widthOption / imageAspectRatio)\n      )\n      break\n    }\n\n    default: {\n      if (options.width && !options.height) {\n        width = options.width\n        height = Math.round(options.width / imageAspectRatio)\n      }\n\n      if (options.height && !options.width) {\n        width = Math.round(options.height * imageAspectRatio)\n        height = options.height\n      }\n    }\n  }\n\n  return {\n    width,\n    height,\n    aspectRatio: width / height,\n  }\n}\n","/* global GATSBY___IMAGE */\nimport { generateImageData, EVERY_BREAKPOINT } from \"../image-utils\"\nimport type { CSSProperties, HTMLAttributes, ImgHTMLAttributes } from \"react\"\nimport type { Node } from \"gatsby\"\nimport type { PlaceholderProps } from \"./placeholder\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { IGatsbyImageData } from \"./gatsby-image.browser\"\nimport type {\n  IGatsbyImageHelperArgs,\n  Layout,\n  IImage,\n  ImageFormat,\n} from \"../image-utils\"\n\n// Native lazy-loading support: https://addyosmani.com/blog/lazy-loading/\nexport const hasNativeLazyLoadSupport = (): boolean =>\n  typeof HTMLImageElement !== `undefined` &&\n  `loading` in HTMLImageElement.prototype\n\nexport function gatsbyImageIsInstalled(): boolean {\n  return typeof GATSBY___IMAGE !== `undefined` && GATSBY___IMAGE\n}\n\nexport type IGatsbyImageDataParent<T = never> = T & {\n  gatsbyImageData: IGatsbyImageData\n}\nexport type IGatsbyImageParent<T = never> = T & {\n  gatsbyImage: IGatsbyImageData\n}\nexport type FileNode = Partial<Node> & {\n  childImageSharp?: IGatsbyImageDataParent<Partial<Node>>\n}\n\nconst isGatsbyImageData = (\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageData | any\n): node is IGatsbyImageData =>\n  // 🦆 check for a deep prop to be sure this is a valid gatsbyImageData object\n  Boolean(node?.images?.fallback?.src)\n\nconst isGatsbyImageDataParent = <T>(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageDataParent<T> | any\n): node is IGatsbyImageDataParent<T> => Boolean(node?.gatsbyImageData)\n\nconst isGatsbyImageParent = <T>(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageParent<T> | any\n): node is IGatsbyImageParent<T> => Boolean(node?.gatsbyImage)\n\nexport type ImageDataLike =\n  | FileNode\n  | IGatsbyImageDataParent\n  | IGatsbyImageParent\n  | IGatsbyImageData\n\nexport const getImage = (\n  node: ImageDataLike | null\n): IGatsbyImageData | undefined => {\n  // This checks both for gatsbyImageData and gatsbyImage\n  if (isGatsbyImageData(node)) {\n    return node\n  }\n  // gatsbyImageData GraphQL field\n  if (isGatsbyImageDataParent(node)) {\n    return node.gatsbyImageData\n  }\n  // gatsbyImage GraphQL field for Gatsby's Image CDN service\n  if (isGatsbyImageParent(node)) {\n    return node.gatsbyImage\n  }\n  return node?.childImageSharp?.gatsbyImageData\n}\n\nexport const getSrc = (node: ImageDataLike): string | undefined =>\n  getImage(node)?.images?.fallback?.src\n\nexport const getSrcSet = (node: ImageDataLike): string | undefined =>\n  getImage(node)?.images?.fallback?.srcSet\n\nexport function getWrapperProps(\n  width: number,\n  height: number,\n  layout: Layout\n): Pick<HTMLAttributes<HTMLElement>, \"className\" | \"style\"> & {\n  \"data-gatsby-image-wrapper\": string\n} {\n  const wrapperStyle: CSSProperties = {}\n\n  let className = `gatsby-image-wrapper`\n\n  // If the plugin isn't installed we need to apply the styles inline\n  if (!gatsbyImageIsInstalled()) {\n    wrapperStyle.position = `relative`\n    wrapperStyle.overflow = `hidden`\n  }\n\n  if (layout === `fixed`) {\n    wrapperStyle.width = width\n    wrapperStyle.height = height\n  } else if (layout === `constrained`) {\n    if (!gatsbyImageIsInstalled()) {\n      wrapperStyle.display = `inline-block`\n      wrapperStyle.verticalAlign = `top`\n    }\n    className = `gatsby-image-wrapper gatsby-image-wrapper-constrained`\n  }\n\n  return {\n    className,\n    \"data-gatsby-image-wrapper\": ``,\n    style: wrapperStyle,\n  }\n}\n\nexport interface IUrlBuilderArgs<OptionsType> {\n  width: number\n  height: number\n  baseUrl: string\n  format: ImageFormat\n  options: OptionsType\n}\nexport interface IGetImageDataArgs<OptionsType = Record<string, unknown>> {\n  baseUrl: string\n  /**\n   * For constrained and fixed images, the size of the image element\n   */\n  width?: number\n  height?: number\n  /**\n   * If available, pass the source image width and height\n   */\n  sourceWidth?: number\n  sourceHeight?: number\n  /**\n   * If only one dimension is passed, then this will be used to calculate the other.\n   */\n  aspectRatio?: number\n  layout?: Layout\n  /**\n   * Returns a URL based on the passed arguments. Should be a pure function\n   */\n  urlBuilder: (args: IUrlBuilderArgs<OptionsType>) => string\n\n  /**\n   * Should be a data URI\n   */\n  placeholderURL?: string\n  backgroundColor?: string\n  /**\n   * Used in error messages etc\n   */\n  pluginName?: string\n\n  /**\n   * If you do not support auto-format, pass an array of image types here\n   */\n  formats?: Array<ImageFormat>\n\n  breakpoints?: Array<number>\n\n  /**\n   * Passed to the urlBuilder function\n   */\n  options?: OptionsType\n}\n\n/**\n * Use this hook to generate gatsby-plugin-image data in the browser.\n */\nexport function getImageData<OptionsType>({\n  baseUrl,\n  urlBuilder,\n  sourceWidth,\n  sourceHeight,\n  pluginName = `getImageData`,\n  formats = [`auto`],\n  breakpoints,\n  options,\n  ...props\n}: IGetImageDataArgs<OptionsType>): IGatsbyImageData {\n  if (\n    !breakpoints?.length &&\n    (props.layout === `fullWidth` || (props.layout as string) === `FULL_WIDTH`)\n  ) {\n    breakpoints = EVERY_BREAKPOINT\n  }\n  const generateImageSource = (\n    baseUrl: string,\n    width: number,\n    height?: number,\n    format?: ImageFormat\n  ): IImage => {\n    return {\n      width,\n      height,\n      format,\n      src: urlBuilder({ baseUrl, width, height, options, format }),\n    }\n  }\n\n  const sourceMetadata: IGatsbyImageHelperArgs[\"sourceMetadata\"] = {\n    width: sourceWidth,\n    height: sourceHeight,\n    format: `auto`,\n  }\n\n  const args: IGatsbyImageHelperArgs = {\n    ...props,\n    pluginName,\n    generateImageSource,\n    filename: baseUrl,\n    formats,\n    breakpoints,\n    sourceMetadata,\n  }\n  return generateImageData(args)\n}\n\nexport function getMainProps(\n  isLoading: boolean,\n  isLoaded: boolean,\n  images: IGatsbyImageData[\"images\"],\n  loading?: \"eager\" | \"lazy\",\n  style: CSSProperties = {}\n): Partial<MainImageProps> {\n  // fallback when it's not configured in gatsby-config.\n  if (!gatsbyImageIsInstalled()) {\n    style = {\n      height: `100%`,\n      left: 0,\n      position: `absolute`,\n      top: 0,\n      transform: `translateZ(0)`,\n      transition: `opacity 250ms linear`,\n      width: `100%`,\n      willChange: `opacity`,\n      ...style,\n    }\n  }\n\n  const result = {\n    ...images,\n    loading,\n    shouldLoad: isLoading,\n    \"data-main-image\": ``,\n    style: {\n      ...style,\n      opacity: isLoaded ? 1 : 0,\n    },\n  }\n\n  return result\n}\n\nexport type PlaceholderImageAttrs = ImgHTMLAttributes<HTMLImageElement> &\n  Pick<PlaceholderProps, \"sources\" | \"fallback\"> & {\n    \"data-placeholder-image\"?: string\n  }\n\nexport function getPlaceholderProps(\n  placeholder: PlaceholderImageAttrs | undefined,\n  isLoaded: boolean,\n  layout: Layout,\n  width?: number,\n  height?: number,\n  backgroundColor?: string,\n  objectFit?: CSSProperties[\"objectFit\"],\n  objectPosition?: CSSProperties[\"objectPosition\"]\n): PlaceholderImageAttrs {\n  const wrapperStyle: CSSProperties = {}\n\n  if (backgroundColor) {\n    wrapperStyle.backgroundColor = backgroundColor\n\n    if (layout === `fixed`) {\n      wrapperStyle.width = width\n      wrapperStyle.height = height\n      wrapperStyle.backgroundColor = backgroundColor\n      wrapperStyle.position = `relative`\n    } else if (layout === `constrained`) {\n      wrapperStyle.position = `absolute`\n      wrapperStyle.top = 0\n      wrapperStyle.left = 0\n      wrapperStyle.bottom = 0\n      wrapperStyle.right = 0\n    } else if (layout === `fullWidth`) {\n      wrapperStyle.position = `absolute`\n      wrapperStyle.top = 0\n      wrapperStyle.left = 0\n      wrapperStyle.bottom = 0\n      wrapperStyle.right = 0\n    }\n  }\n\n  if (objectFit) {\n    wrapperStyle.objectFit = objectFit\n  }\n\n  if (objectPosition) {\n    wrapperStyle.objectPosition = objectPosition\n  }\n  const result: PlaceholderImageAttrs = {\n    ...placeholder,\n    \"aria-hidden\": true,\n    \"data-placeholder-image\": ``,\n    style: {\n      opacity: isLoaded ? 0 : 1,\n      transition: `opacity 500ms linear`,\n      ...wrapperStyle,\n    },\n  }\n\n  // fallback when it's not configured in gatsby-config.\n  if (!gatsbyImageIsInstalled()) {\n    result.style = {\n      height: `100%`,\n      left: 0,\n      position: `absolute`,\n      top: 0,\n      width: `100%`,\n    }\n  }\n\n  return result\n}\n\nexport interface IArtDirectedImage {\n  media: string\n  image: IGatsbyImageData\n}\n\n/**\n * Generate a Gatsby image data object with multiple, art-directed images that display at different\n * resolutions.\n *\n * @param defaultImage The image displayed when no media query matches.\n * It is also used for all other settings applied to the image, such as width, height and layout.\n * You should pass a className to the component with media queries to adjust the size of the container,\n * as this cannot be adjusted automatically.\n * @param artDirected Array of objects which each contains a `media` string which is a media query\n * such as `(min-width: 320px)`, and the image object to use when that query matches.\n */\nexport function withArtDirection(\n  defaultImage: IGatsbyImageData,\n  artDirected: Array<IArtDirectedImage>\n): IGatsbyImageData {\n  const { images, placeholder, ...props } = defaultImage\n  const output: IGatsbyImageData = {\n    ...props,\n    images: {\n      ...images,\n      sources: [],\n    },\n    placeholder: placeholder && {\n      ...placeholder,\n      sources: [],\n    },\n  }\n\n  artDirected.forEach(({ media, image }) => {\n    if (!media) {\n      if (process.env.NODE_ENV === `development`) {\n        console.warn(\n          \"[gatsby-plugin-image] All art-directed images passed to must have a value set for `media`. Skipping.\"\n        )\n      }\n      return\n    }\n\n    if (\n      image.layout !== defaultImage.layout &&\n      process.env.NODE_ENV === `development`\n    ) {\n      console.warn(\n        `[gatsby-plugin-image] Mismatched image layout: expected \"${defaultImage.layout}\" but received \"${image.layout}\". All art-directed images use the same layout as the default image`\n      )\n    }\n\n    output.images.sources.push(\n      ...image.images.sources.map(source => {\n        return { ...source, media }\n      }),\n      {\n        media,\n        srcSet: image.images.fallback.srcSet,\n      }\n    )\n\n    if (!output.placeholder) {\n      return\n    }\n\n    output.placeholder.sources.push({\n      media,\n      srcSet: image.placeholder.fallback,\n    })\n  })\n  output.images.sources.push(...images.sources)\n  if (placeholder?.sources) {\n    output.placeholder?.sources.push(...placeholder.sources)\n  }\n  return output\n}\n","import React, { Fragment, FunctionComponent, PropsWithChildren } from \"react\"\nimport terserMacro from \"../../macros/terser.macro\"\nimport { Layout } from \"../image-utils\"\n\nexport interface ILayoutWrapperProps {\n  layout: Layout\n  width: number\n  height: number\n}\n\nconst NativeScriptLoading: FunctionComponent = () => (\n  <script\n    type=\"module\"\n    dangerouslySetInnerHTML={{\n      __html: terserMacro`\nconst hasNativeLazyLoadSupport = typeof HTMLImageElement !== \"undefined\" && \"loading\" in HTMLImageElement.prototype;\nif (hasNativeLazyLoadSupport) {\n  const gatsbyImages = document.querySelectorAll('img[data-main-image]');\n  for (let mainImage of gatsbyImages) {\n    if (mainImage.dataset.src) {\n      mainImage.setAttribute('src', mainImage.dataset.src)\n      mainImage.removeAttribute('data-src')\n    }\n    if (mainImage.dataset.srcset) {\n      mainImage.setAttribute('srcset', mainImage.dataset.srcset)\n      mainImage.removeAttribute('data-srcset')\n    }\n\n    const sources = mainImage.parentNode.querySelectorAll('source[data-srcset]');\n    for (let source of sources) {\n      source.setAttribute('srcset', source.dataset.srcset)\n      source.removeAttribute('data-srcset')\n    }\n\n    if (mainImage.complete) {\n      mainImage.style.opacity = 1;\n\n      // also hide the placeholder\n      mainImage.parentNode.parentNode.querySelector('[data-placeholder-image]').style.opacity = 0;\n    }\n  }\n}\n`,\n    }}\n  />\n)\n\nexport function getSizer(\n  layout: Layout,\n  width: number,\n  height: number\n): string {\n  let sizer = ``\n  if (layout === `fullWidth`) {\n    sizer = `<div aria-hidden=\"true\" style=\"padding-top: ${\n      (height / width) * 100\n    }%;\"></div>`\n  }\n\n  if (layout === `constrained`) {\n    sizer = `<div style=\"max-width: ${width}px; display: block;\"><img alt=\"\" role=\"presentation\" aria-hidden=\"true\" src=\"data:image/svg+xml;charset=utf-8,%3Csvg%20height='${height}'%20width='${width}'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E\" style=\"max-width: 100%; display: block; position: static;\"></div>`\n  }\n\n  return sizer\n}\n\nconst Sizer: FunctionComponent<ILayoutWrapperProps> = function Sizer({\n  layout,\n  width,\n  height,\n}) {\n  if (layout === `fullWidth`) {\n    return (\n      <div aria-hidden style={{ paddingTop: `${(height / width) * 100}%` }} />\n    )\n  }\n\n  if (layout === `constrained`) {\n    return (\n      <div style={{ maxWidth: width, display: `block` }}>\n        <img\n          alt=\"\"\n          role=\"presentation\"\n          aria-hidden=\"true\"\n          src={`data:image/svg+xml;charset=utf-8,%3Csvg%20height='${height}'%20width='${width}'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E`}\n          style={{\n            maxWidth: `100%`,\n            display: `block`,\n            position: `static`,\n          }}\n        />\n      </div>\n    )\n  }\n\n  return null\n}\n\nexport const LayoutWrapper: FunctionComponent<\n  PropsWithChildren<ILayoutWrapperProps>\n> = function LayoutWrapper({ children, ...props }) {\n  return (\n    <Fragment>\n      <Sizer {...props} />\n      {children}\n\n      {SERVER ? <NativeScriptLoading /> : null}\n    </Fragment>\n  )\n}\n","import React, { FunctionComponent, ImgHTMLAttributes } from \"react\"\nimport * as PropTypes from \"prop-types\"\n\nexport interface IResponsiveImageProps {\n  sizes?: string\n  srcSet: string\n}\n\nexport type SourceProps = IResponsiveImageProps &\n  (\n    | {\n        media: string\n        type?: string\n      }\n    | {\n        media?: string\n        type: string\n      }\n  )\n\ntype FallbackProps = { src: string } & Partial<IResponsiveImageProps>\n\ntype ImageProps = ImgHTMLAttributes<HTMLImageElement> & {\n  src: string\n  alt: string\n  shouldLoad: boolean\n}\n\nexport type PictureProps = ImgHTMLAttributes<HTMLImageElement> & {\n  fallback?: FallbackProps\n  sources?: Array<SourceProps>\n  alt: string\n  shouldLoad?: boolean\n}\n\nconst Image: FunctionComponent<ImageProps> = function Image({\n  src,\n  srcSet,\n  loading,\n  alt = ``,\n  shouldLoad,\n  ...props\n}) {\n  return (\n    <img\n      {...props}\n      decoding=\"async\"\n      loading={loading}\n      src={shouldLoad ? src : undefined}\n      data-src={!shouldLoad ? src : undefined}\n      srcSet={shouldLoad ? srcSet : undefined}\n      data-srcset={!shouldLoad ? srcSet : undefined}\n      alt={alt}\n    />\n  )\n}\n\nexport const Picture: React.FC<PictureProps> = function Picture({\n  fallback,\n  sources = [],\n  shouldLoad = true,\n  ...props\n}) {\n  const sizes = props.sizes || fallback?.sizes\n  const fallbackImage = (\n    <Image {...props} {...fallback} sizes={sizes} shouldLoad={shouldLoad} />\n  )\n\n  if (!sources.length) {\n    return fallbackImage\n  }\n\n  return (\n    <picture>\n      {sources.map(({ media, srcSet, type }) => (\n        <source\n          key={`${media}-${type}-${srcSet}`}\n          type={type}\n          media={media}\n          srcSet={shouldLoad ? srcSet : undefined}\n          data-srcset={!shouldLoad ? srcSet : undefined}\n          sizes={sizes}\n        />\n      ))}\n      {fallbackImage}\n    </picture>\n  )\n}\n\nImage.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  sizes: PropTypes.string,\n  srcSet: PropTypes.string,\n  shouldLoad: PropTypes.bool,\n}\n\nPicture.displayName = `Picture`\nPicture.propTypes = {\n  alt: PropTypes.string.isRequired,\n  shouldLoad: PropTypes.bool,\n  fallback: PropTypes.exact({\n    src: PropTypes.string.isRequired,\n    srcSet: PropTypes.string,\n    sizes: PropTypes.string,\n  }),\n  sources: PropTypes.arrayOf(\n    PropTypes.oneOfType([\n      PropTypes.exact({\n        media: PropTypes.string.isRequired,\n        type: PropTypes.string,\n        sizes: PropTypes.string,\n        srcSet: PropTypes.string.isRequired,\n      }),\n      PropTypes.exact({\n        media: PropTypes.string,\n        type: PropTypes.string.isRequired,\n        sizes: PropTypes.string,\n        srcSet: PropTypes.string.isRequired,\n      }),\n    ])\n  ),\n}\n","import React, { FunctionComponent, ImgHTMLAttributes } from \"react\"\nimport * as PropTypes from \"prop-types\"\nimport { Picture, SourceProps } from \"./picture\"\n\nexport type PlaceholderProps = ImgHTMLAttributes<HTMLImageElement> & {\n  fallback?: string\n  sources?: Array<SourceProps>\n}\n\nexport const Placeholder: FunctionComponent<PlaceholderProps> =\n  function Placeholder({ fallback, ...props }) {\n    if (fallback) {\n      return (\n        <Picture\n          {...props}\n          fallback={{\n            src: fallback,\n          }}\n          aria-hidden\n          alt=\"\"\n        />\n      )\n    } else {\n      return <div {...props}></div>\n    }\n  }\n\nPlaceholder.displayName = `Placeholder`\nPlaceholder.propTypes = {\n  fallback: PropTypes.string,\n  sources: Picture.propTypes?.sources,\n  alt: function (props, propName, componentName): Error | null {\n    if (!props[propName]) {\n      return null\n    }\n\n    return new Error(\n      `Invalid prop \\`${propName}\\` supplied to \\`${componentName}\\`. Validation failed.`\n    )\n  },\n}\n","import React from \"react\"\nimport { Picture, PictureProps } from \"./picture\"\n\nexport type MainImageProps = PictureProps\n\nexport const MainImage: React.FC<PictureProps> = function MainImage(props) {\n  return (\n    <>\n      <Picture {...props} />\n      <noscript>\n        <Picture {...props} shouldLoad={true} />\n      </noscript>\n    </>\n  )\n}\n\nMainImage.displayName = `MainImage`\nMainImage.propTypes = Picture.propTypes\n","import React from \"react\"\nimport { getWrapperProps, getMainProps, getPlaceholderProps } from \"./hooks\"\nimport { Placeholder } from \"./placeholder\"\nimport { MainImage, MainImageProps } from \"./main-image\"\nimport { LayoutWrapper } from \"./layout-wrapper\"\nimport PropTypes from \"prop-types\"\nimport type { FunctionComponent, WeakValidationMap } from \"react\"\nimport type { GatsbyImageProps, IGatsbyImageData } from \"./gatsby-image.browser\"\n\nconst removeNewLines = (str: string): string => str.replace(/\\n/g, ``)\n\nexport const GatsbyImage: FunctionComponent<GatsbyImageProps> =\n  function GatsbyImage({\n    as = `div`,\n    className,\n    class: preactClass,\n    style,\n    image,\n    loading = `lazy`,\n    imgClassName,\n    imgStyle,\n    backgroundColor,\n    objectFit,\n    objectPosition,\n    ...props\n  }) {\n    if (!image) {\n      console.warn(`[gatsby-plugin-image] Missing image prop`)\n      return null\n    }\n\n    if (preactClass) {\n      className = preactClass\n    }\n\n    imgStyle = {\n      objectFit,\n      objectPosition,\n      backgroundColor,\n      ...imgStyle,\n    }\n\n    const {\n      width,\n      height,\n      layout,\n      images,\n      placeholder,\n      backgroundColor: placeholderBackgroundColor,\n    } = image\n\n    const {\n      style: wStyle,\n      className: wClass,\n      ...wrapperProps\n    } = getWrapperProps(width, height, layout)\n\n    const cleanedImages: IGatsbyImageData[\"images\"] = {\n      fallback: undefined,\n      sources: [],\n    }\n    if (images.fallback) {\n      cleanedImages.fallback = {\n        ...images.fallback,\n        srcSet: images.fallback.srcSet\n          ? removeNewLines(images.fallback.srcSet)\n          : undefined,\n      }\n    }\n\n    if (images.sources) {\n      cleanedImages.sources = images.sources.map(source => {\n        return {\n          ...source,\n          srcSet: removeNewLines(source.srcSet),\n        }\n      })\n    }\n\n    return React.createElement(\n      as,\n      {\n        ...wrapperProps,\n        style: {\n          ...wStyle,\n          ...style,\n          backgroundColor,\n        },\n        className: `${wClass}${className ? ` ${className}` : ``}`,\n      },\n      <LayoutWrapper layout={layout} width={width} height={height}>\n        <Placeholder\n          {...getPlaceholderProps(\n            placeholder,\n            false,\n            layout,\n            width,\n            height,\n            placeholderBackgroundColor,\n            objectFit,\n            objectPosition\n          )}\n        />\n\n        <MainImage\n          data-gatsby-image-ssr=\"\"\n          className={imgClassName}\n          {...(props as Omit<\n            MainImageProps,\n            \"images\" | \"fallback\" | \"onError\" | \"onLoad\"\n          >)}\n          // When eager is set we want to start the isLoading state on true (we want to load the img without react)\n          {...getMainProps(\n            loading === `eager`,\n            false,\n            cleanedImages,\n            loading,\n            imgStyle\n          )}\n        />\n      </LayoutWrapper>\n    )\n  }\n\nexport const altValidator: PropTypes.Validator<string> = (\n  props: GatsbyImageProps,\n  propName,\n  componentName,\n  ...rest\n): Error | undefined => {\n  if (!props.alt && props.alt !== ``) {\n    return new Error(\n      `The \"alt\" prop is required in ${componentName}. If the image is purely presentational then pass an empty string: e.g. alt=\"\". Learn more: https://a11y-style-guide.com/style-guide/section-media.html`\n    )\n  }\n\n  return PropTypes.string(props, propName, componentName, ...rest)\n}\n\nexport const propTypes = {\n  image: PropTypes.object.isRequired,\n  alt: altValidator,\n} as WeakValidationMap<GatsbyImageProps>\n","import {\n  createElement,\n  memo,\n  useMemo,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n} from \"react\"\nimport {\n  getWrapperProps,\n  gatsbyImageIsInstalled,\n  hasNativeLazyLoadSupport,\n} from \"./hooks\"\nimport { getSizer } from \"./layout-wrapper\"\nimport { propTypes } from \"./gatsby-image.server\"\nimport type {\n  FC,\n  ElementType,\n  FunctionComponent,\n  ImgHTMLAttributes,\n  CSSProperties,\n  ReactEventHandler,\n} from \"react\"\nimport type { renderImageToString } from \"./lazy-hydrate\"\nimport type { PlaceholderProps } from \"./placeholder\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { Layout } from \"../image-utils\"\n\nconst imageCache = new Set<string>()\nlet renderImageToStringPromise\nlet renderImage: typeof renderImageToString | undefined\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport interface GatsbyImageProps\n  extends Omit<\n    ImgHTMLAttributes<HTMLImageElement>,\n    \"placeholder\" | \"onLoad\" | \"src\" | \"srcSet\" | \"width\" | \"height\"\n  > {\n  alt: string\n  as?: ElementType\n  className?: string\n  class?: string\n  imgClassName?: string\n  image: IGatsbyImageData\n  imgStyle?: CSSProperties\n  backgroundColor?: string\n  objectFit?: CSSProperties[\"objectFit\"]\n  objectPosition?: CSSProperties[\"objectPosition\"]\n  onLoad?: (props: { wasCached: boolean }) => void\n  onError?: ReactEventHandler<HTMLImageElement>\n  onStartLoad?: (props: { wasCached: boolean }) => void\n}\n\nexport interface IGatsbyImageData {\n  layout: Layout\n  width: number\n  height: number\n  backgroundColor?: string\n  images: Pick<MainImageProps, \"sources\" | \"fallback\">\n  placeholder?: Pick<PlaceholderProps, \"sources\" | \"fallback\">\n}\n\nconst GatsbyImageHydrator: FC<GatsbyImageProps> = function GatsbyImageHydrator({\n  as = `div`,\n  image,\n  style,\n  backgroundColor,\n  className,\n  class: preactClass,\n  onStartLoad,\n  onLoad,\n  onError,\n  ...props\n}) {\n  const { width, height, layout } = image\n  const {\n    style: wStyle,\n    className: wClass,\n    ...wrapperProps\n  } = getWrapperProps(width, height, layout)\n  const root = useRef<HTMLElement>()\n  const cacheKey = useMemo(() => JSON.stringify(image.images), [image.images])\n\n  // Preact uses class instead of className so we need to check for both\n  if (preactClass) {\n    className = preactClass\n  }\n\n  const sizer = getSizer(layout, width, height)\n\n  useEffect(() => {\n    if (!renderImageToStringPromise) {\n      renderImageToStringPromise = import(`./lazy-hydrate`).then(\n        ({ renderImageToString, swapPlaceholderImage }) => {\n          renderImage = renderImageToString\n\n          return {\n            renderImageToString,\n            swapPlaceholderImage,\n          }\n        }\n      )\n    }\n\n    // The plugin image component is a bit special where if it's server-side rendered, we add extra script tags to support lazy-loading without\n    // In this case we stop hydration but fire the correct events.\n    const ssrImage = root.current.querySelector(\n      `[data-gatsby-image-ssr]`\n    ) as HTMLImageElement\n    if (ssrImage && hasNativeLazyLoadSupport()) {\n      if (ssrImage.complete) {\n        // Trigger onStartload and onLoad events\n        onStartLoad?.({\n          wasCached: true,\n        })\n        onLoad?.({\n          wasCached: true,\n        })\n\n        // remove ssr key for state updates but add delay to not fight with native code snippt of gatsby-ssr\n        setTimeout(() => {\n          ssrImage.removeAttribute(`data-gatsby-image-ssr`)\n        }, 0)\n      } else {\n        onStartLoad?.({\n          wasCached: true,\n        })\n\n        ssrImage.addEventListener(`load`, function onLoadListener() {\n          ssrImage.removeEventListener(`load`, onLoadListener)\n\n          onLoad?.({\n            wasCached: true,\n          })\n          // remove ssr key for state updates but add delay to not fight with native code snippt of gatsby-ssr\n          setTimeout(() => {\n            ssrImage.removeAttribute(`data-gatsby-image-ssr`)\n          }, 0)\n        })\n      }\n\n      imageCache.add(cacheKey)\n\n      return\n    }\n\n    if (renderImage && imageCache.has(cacheKey)) {\n      return\n    }\n\n    let animationFrame\n    let cleanupCallback\n    renderImageToStringPromise.then(\n      ({ renderImageToString, swapPlaceholderImage }) => {\n        if (!root.current) {\n          return\n        }\n\n        root.current.innerHTML = renderImageToString({\n          isLoading: true,\n          isLoaded: imageCache.has(cacheKey),\n          image,\n          ...props,\n        })\n\n        if (!imageCache.has(cacheKey)) {\n          animationFrame = requestAnimationFrame(() => {\n            if (root.current) {\n              cleanupCallback = swapPlaceholderImage(\n                root.current,\n                cacheKey,\n                imageCache,\n                style,\n                onStartLoad,\n                onLoad,\n                onError\n              )\n            }\n          })\n        }\n      }\n    )\n\n    // eslint-disable-next-line consistent-return\n    return (): void => {\n      if (animationFrame) {\n        cancelAnimationFrame(animationFrame)\n      }\n      if (cleanupCallback) {\n        cleanupCallback()\n      }\n    }\n  }, [image])\n\n  // useLayoutEffect is ran before React commits to the DOM. This allows us to make sure our HTML is using our cached image version\n  useLayoutEffect(() => {\n    if (imageCache.has(cacheKey) && renderImage) {\n      root.current.innerHTML = renderImage({\n        isLoading: imageCache.has(cacheKey),\n        isLoaded: imageCache.has(cacheKey),\n        image,\n        ...props,\n      })\n\n      // Trigger onStartload and onLoad events\n      onStartLoad?.({\n        wasCached: true,\n      })\n      onLoad?.({\n        wasCached: true,\n      })\n    }\n  }, [image])\n\n  // By keeping all props equal React will keep the component in the DOM\n  return createElement(as, {\n    ...wrapperProps,\n    style: {\n      ...wStyle,\n      ...style,\n      backgroundColor,\n    },\n    className: `${wClass}${className ? ` ${className}` : ``}`,\n    ref: root,\n    dangerouslySetInnerHTML: {\n      __html: sizer,\n    },\n    suppressHydrationWarning: true,\n  })\n}\n\nexport const GatsbyImage: FunctionComponent<GatsbyImageProps> = memo(\n  function GatsbyImage(props) {\n    if (!props.image) {\n      if (process.env.NODE_ENV === `development`) {\n        console.warn(`[gatsby-plugin-image] Missing image prop`)\n      }\n\n      return null\n    }\n\n    if (!gatsbyImageIsInstalled() && process.env.NODE_ENV === `development`) {\n      console.warn(\n        `[gatsby-plugin-image] You're missing out on some cool performance features. Please add \"gatsby-plugin-image\" to your gatsby-config.js`\n      )\n    }\n\n    return createElement(GatsbyImageHydrator, props)\n  }\n)\n\nGatsbyImage.propTypes = propTypes\nGatsbyImage.displayName = `GatsbyImage`\n","import React, { FunctionComponent, ReactElement } from \"react\"\nimport {\n  altValidator,\n  GatsbyImage as GatsbyImageServer,\n} from \"./gatsby-image.server\"\nimport { GatsbyImageProps, IGatsbyImageData } from \"./gatsby-image.browser\"\nimport PropTypes from \"prop-types\"\nimport { ISharpGatsbyImageArgs } from \"../image-utils\"\n\nexport interface IStaticImageProps\n  extends Omit<GatsbyImageProps, \"image\">,\n    Omit<ISharpGatsbyImageArgs, \"backgroundColor\"> {\n  src: string\n  filename?: string\n}\n\n// These values are added by Babel. Do not add them manually\ninterface IPrivateProps {\n  __imageData?: IGatsbyImageData\n  __error?: string\n}\n\nexport function _getStaticImage(\n  GatsbyImage: FunctionComponent<GatsbyImageProps>\n): React.FC<IStaticImageProps & IPrivateProps> {\n  return function StaticImage({\n    src,\n    __imageData: imageData,\n    __error,\n    // We extract these because they're not meant to be passed-down to GatsbyImage\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    width,\n    height,\n    aspectRatio,\n    tracedSVGOptions,\n    placeholder,\n    formats,\n    quality,\n    transformOptions,\n    jpgOptions,\n    pngOptions,\n    webpOptions,\n    avifOptions,\n    blurredOptions,\n    breakpoints,\n    outputPixelDensities,\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    ...props\n  }): ReactElement {\n    if (__error) {\n      console.warn(__error)\n    }\n\n    if (imageData) {\n      return <GatsbyImage image={imageData} {...props} />\n    }\n    console.warn(`Image not loaded`, src)\n    if (!__error && process.env.NODE_ENV === `development`) {\n      console.warn(\n        `Please ensure that \"gatsby-plugin-image\" is included in the plugins array in gatsby-config.js, and that your version of gatsby is at least 2.24.78`\n      )\n    }\n    return null\n  }\n}\n\nconst StaticImage: React.FC<IStaticImageProps & IPrivateProps> =\n  _getStaticImage(GatsbyImageServer)\n\nconst checkDimensionProps: PropTypes.Validator<number> = (\n  props: IStaticImageProps & IPrivateProps,\n  propName: keyof IStaticImageProps & IPrivateProps,\n  ...rest\n) => {\n  if (\n    props.layout === `fullWidth` &&\n    (propName === `width` || propName === `height`) &&\n    props[propName]\n  ) {\n    return new Error(\n      `\"${propName}\" ${props[propName]} may not be passed when layout is fullWidth.`\n    )\n  }\n  return PropTypes.number(props, propName, ...rest)\n}\n\nconst validLayouts = new Set([`fixed`, `fullWidth`, `constrained`])\n\nexport const propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: altValidator,\n  width: checkDimensionProps,\n  height: checkDimensionProps,\n  sizes: PropTypes.string,\n  layout: (props: IStaticImageProps & IPrivateProps): Error | undefined => {\n    if (props.layout === undefined) {\n      return undefined\n    }\n    if (validLayouts.has(props.layout)) {\n      return undefined\n    }\n\n    return new Error(\n      `Invalid value ${props.layout}\" provided for prop \"layout\". Defaulting to \"constrained\". Valid values are \"fixed\", \"fullWidth\" or \"constrained\".`\n    )\n  },\n}\n\nStaticImage.displayName = `StaticImage`\nStaticImage.propTypes = propTypes\n\nexport { StaticImage }\n","import {\n  GatsbyImage as GatsbyImageBrowser,\n  IGatsbyImageData,\n} from \"./gatsby-image.browser\"\nimport React from \"react\"\nimport {\n  _getStaticImage,\n  propTypes,\n  IStaticImageProps,\n} from \"./static-image.server\"\n// These values are added by Babel. Do not add them manually\ninterface IPrivateProps {\n  __imageData?: IGatsbyImageData\n  __error?: string\n}\n\nconst StaticImage: React.FC<IStaticImageProps & IPrivateProps> =\n  _getStaticImage(GatsbyImageBrowser)\n\nStaticImage.displayName = `StaticImage`\nStaticImage.propTypes = propTypes\n\nexport { StaticImage }\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { navigate } from '@reach/router';\r\n\r\nimport AutocompleteInput from 'meiko/AutocompleteInput';\r\nimport TabTrap from 'meiko/TabTrap';\r\nimport { EventCodes } from 'meiko/constants/enums';\r\nimport { useOutsideClick } from 'meiko/hooks/useOutsideClick';\r\n\r\nimport { Emperor } from '@/interfaces/Emperor';\r\nimport slugToIdentifier from '@/utils/slugToIdentifier';\r\nimport { rhythm } from '@/utils/typography';\r\n\r\ninterface GoToProps<T extends Emperor> {\r\n  data: T[];\r\n}\r\n\r\nconst exceptionClasses = ['clearable-input__clear'];\r\nconst getStyle = (show: boolean): React.CSSProperties =>\r\n  show\r\n    ? { opacity: 1, visibility: 'visible' }\r\n    : {\r\n        opacity: 0,\r\n        visibility: 'hidden',\r\n        pointerEvents: 'none',\r\n        marginTop: `50px`\r\n      };\r\n\r\nfunction GoTo<T extends Emperor>({ data }: GoToProps<T>) {\r\n  const ref = useRef() as React.MutableRefObject<HTMLDivElement>;\r\n  const timer = useRef(0);\r\n  const [show, setShow] = useState(false);\r\n  const [text, setText] = useState('');\r\n\r\n  const displayStyle = getStyle(show);\r\n  const typeAheadItems = data.map((x) => ({ id: x.slug, name: x.name }));\r\n\r\n  function onClose() {\r\n    setShow(false);\r\n    setText('');\r\n  }\r\n\r\n  function onSelect(hash: string) {\r\n    navigate(`#${hash}`);\r\n\r\n    document.getElementById(hash)?.focus();\r\n    onClose();\r\n  }\r\n\r\n  useOutsideClick(ref.current, (e) => {\r\n    const t = e.target;\r\n    const isEscape = e.key === EventCodes.Escape;\r\n    const noTarget = !t;\r\n    const isNotException =\r\n      t && !exceptionClasses.some((s) => t.className.includes(s));\r\n\r\n    if (noTarget || isEscape || isNotException) {\r\n      onClose();\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    function listenShortcut(event: KeyboardEvent) {\r\n      if (!show && event.key === EventCodes.KeyG) {\r\n        setShow(true);\r\n      }\r\n    }\r\n\r\n    window.addEventListener('keypress', listenShortcut);\r\n    return () => window.removeEventListener('keypress', listenShortcut);\r\n  }, [show]);\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      clearTimeout(timer.current);\r\n      timer.current = window.setTimeout(\r\n        () => document.getElementById('goto')?.focus(),\r\n        501\r\n      );\r\n    }\r\n  }, [show]);\r\n\r\n  return (\r\n    <TabTrap\r\n      ref={ref}\r\n      isActive={show}\r\n      firstId=\"goto\"\r\n      lastId=\"goto\"\r\n      className=\"goto-widget\"\r\n      aria-hidden={!show}\r\n      style={{\r\n        position: 'fixed',\r\n        top: '25%',\r\n        left: `50%`,\r\n        padding: rhythm(1),\r\n        margin: '0 auto',\r\n        marginTop: '0',\r\n        backgroundColor: `var(--background-colour)`,\r\n        minWidth: `300px`,\r\n        width: `50%`,\r\n        transform: `translateX(-50%) translateY(-50%)`,\r\n        transition: `all 0.5s ease-in-out`,\r\n        boxShadow: `0px 0px 4px 1px var(--primary-colour)`,\r\n        zIndex: 100,\r\n        ...displayStyle\r\n      }}\r\n    >\r\n      <AutocompleteInput\r\n        id=\"goto\"\r\n        attr=\"name\"\r\n        items={typeAheadItems}\r\n        filter={text}\r\n        label=\"Find and go to an emperor on the page\"\r\n        onChange={(e) => setText(e.currentTarget?.value ?? '')}\r\n        onSelect={(slug) => {\r\n          const emperorSlug = slug as string;\r\n          const hash = slugToIdentifier(emperorSlug);\r\n          onSelect(hash);\r\n        }}\r\n        noSuggestionsItem={<div>No emperors were found for `{text}`</div>}\r\n      />\r\n    </TabTrap>\r\n  );\r\n}\r\n\r\nexport default GoTo;\r\n","import './Table.scss';\r\nimport React from 'react';\r\n\r\nimport { Button } from 'meiko/Button';\r\nimport Icons from 'meiko/constants/icons';\r\n\r\nimport { useMountedOnClient } from '@/hooks/useMountedOnClient';\r\n\r\nexport interface TableHeader<T extends string = any>\r\n  extends React.HTMLProps<HTMLTableHeaderCellElement> {\r\n  text: string;\r\n  sortKey?: T;\r\n}\r\n\r\ninterface TableProps<T extends string> {\r\n  style: { [key: string]: string };\r\n  headers: TableHeader<T>[];\r\n  children?: React.ReactNode[];\r\n  showHeaders?: boolean;\r\n  isSortDesc?: boolean;\r\n  sortKey?: T;\r\n  onSort?: (key: T) => void;\r\n}\r\n\r\nfunction Table<T extends string>({\r\n  style,\r\n  headers,\r\n  children,\r\n  showHeaders = true,\r\n  isSortDesc,\r\n  sortKey: activeSortKey,\r\n  onSort,\r\n  ...props\r\n}: TableProps<T>) {\r\n  const mounted = useMountedOnClient();\r\n  const sortIcon = isSortDesc ? Icons.down : Icons.up;\r\n\r\n  return (\r\n    <table style={{ ...style }} {...props}>\r\n      <thead>\r\n        <tr>\r\n          {headers.map(({ text, sortKey, ...x }) => {\r\n            const isActiveSort = activeSortKey === sortKey;\r\n\r\n            return (\r\n              <th key={text} {...x} style={{ ...(x.style ?? {}) }}>\r\n                {mounted && onSort !== undefined && sortKey !== undefined ? (\r\n                  <Button\r\n                    className=\"table-sort-button\"\r\n                    aria-label={`${text}. Click to sort on this column. Clicking again will toggle the sort direction.`}\r\n                    style={{ width: '100%', justifyContent: 'flex-start' }}\r\n                    onClick={() => onSort(sortKey)}\r\n                  >\r\n                    <div\r\n                      aria-hidden={true}\r\n                      style={{\r\n                        display: 'flex',\r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'center',\r\n                        width: `100%`\r\n                      }}\r\n                    >\r\n                      <div>{text}</div>\r\n                      <div\r\n                        style={{\r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          height: `1rem`,\r\n                          margin: isSortDesc ? `0 0 auto` : `auto 0 0`\r\n                        }}\r\n                      >\r\n                        {isActiveSort ? sortIcon : ''}\r\n                      </div>\r\n                    </div>\r\n                  </Button>\r\n                ) : (\r\n                  <div style={{ padding: `5px` }}>{text}</div>\r\n                )}\r\n              </th>\r\n            );\r\n          })}\r\n        </tr>\r\n      </thead>\r\n      <tbody>{children}</tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nTable.defaultProps = { style: {} };\r\n\r\nexport default Table;\r\n","import { Emperor } from '@/interfaces/Emperor';\r\n\r\nconst generateUniqueId = () =>\r\n  new Date().getTime().toString(36) +\r\n  Math.random()\r\n    .toString(36)\r\n    .slice(2);\r\n\r\nexport default function orderedGroupBy<T extends Emperor>(\r\n  items: T[],\r\n  fn: (x: T) => any\r\n) {\r\n  const groups = new Map<string, T[]>();\r\n  let activeKey = generateUniqueId();\r\n\r\n  for (const item of items) {\r\n    const group = groups.get(activeKey);\r\n\r\n    if (!group) {\r\n      groups.set(activeKey, [item]);\r\n    } else {\r\n      const g = fn(item);\r\n\r\n      if (!group.every((x) => fn(x) === g)) {\r\n        activeKey = generateUniqueId();\r\n        groups.set(activeKey, [item]);\r\n      } else {\r\n        groups.set(activeKey, [...group, item]);\r\n      }\r\n    }\r\n  }\r\n\r\n  return groups;\r\n}\r\n","import React from 'react';\r\n\r\nimport Table, { TableHeader } from '../Table';\r\nimport ListingItem, { ListingItemProps } from './ListingItem';\r\n\r\nimport { Emperor } from '@/interfaces/Emperor';\r\nimport orderedGroupBy from '@/utils/orderedGroupBy';\r\n\r\nexport type SortKey =\r\n  | 'name'\r\n  | 'reignLengthInDays'\r\n  | 'daysSinceReignStart'\r\n  | 'daysSinceReignEnd';\r\n\r\ninterface ListingProps<T extends Emperor> {\r\n  title: string;\r\n  descriptionContent: React.ReactNode;\r\n  data: T[];\r\n  listItemComponent: React.FunctionComponent<ListingItemProps>;\r\n  showInSingleTable: boolean;\r\n  preserveGroupOrientation?: boolean;\r\n  noRowId?: boolean;\r\n  isSortDesc?: boolean;\r\n  sortKey?: SortKey;\r\n  grouping: (x: T) => any;\r\n  onSortToggle?: (key: SortKey) => void;\r\n}\r\n\r\nconst headers: TableHeader<SortKey>[] = [\r\n  { text: '' },\r\n  { text: 'Name', sortKey: 'name' },\r\n  { text: 'Succession', style: { maxWidth: `300px` } },\r\n  { text: 'Reign From', sortKey: 'daysSinceReignStart' },\r\n  { text: 'Reign Until', sortKey: 'daysSinceReignEnd' },\r\n  { text: 'Reign Length', sortKey: 'reignLengthInDays' }\r\n];\r\n\r\nfunction Listing<T extends Emperor>({\r\n  title,\r\n  showInSingleTable,\r\n  ...props\r\n}: ListingProps<T>) {\r\n  const ItemRenderer = props.listItemComponent;\r\n\r\n  const groups = orderedGroupBy(props.data, props.grouping);\r\n  const tableGroups = Array.from(groups.entries());\r\n\r\n  return (\r\n    <section>\r\n      <header>\r\n        <h3 style={{ color: `inherit` }}>{title}</h3>\r\n      </header>\r\n      {props.descriptionContent}\r\n      <div>\r\n        {!showInSingleTable &&\r\n          tableGroups.map(([key, grp]) => (\r\n            <Table key={key} headers={headers}>\r\n              {grp.map((x, i, a) => (\r\n                <ItemRenderer\r\n                  key={x.id}\r\n                  data={x}\r\n                  group={props.grouping(x)}\r\n                  groupTotal={a.length}\r\n                  showGroup={i === 0}\r\n                  preserveGroupOrientation={props.preserveGroupOrientation}\r\n                  preventIdPropRender={props.noRowId}\r\n                />\r\n              ))}\r\n            </Table>\r\n          ))}\r\n        {showInSingleTable && (\r\n          <Table\r\n            headers={headers}\r\n            isSortDesc={props.isSortDesc}\r\n            sortKey={props.sortKey}\r\n            onSort={props.onSortToggle}\r\n          >\r\n            {tableGroups.map(([key, grp]) =>\r\n              grp.map((x, i, a) => (\r\n                <ItemRenderer\r\n                  key={x.id}\r\n                  data={x}\r\n                  group={props.grouping(x)}\r\n                  groupTotal={a.length}\r\n                  showGroup={i === 0}\r\n                  preserveGroupOrientation={props.preserveGroupOrientation}\r\n                  preventIdPropRender={props.noRowId}\r\n                />\r\n              ))\r\n            )}\r\n          </Table>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nListing.defaultProps = {\r\n  listItemComponent: ListingItem,\r\n  showInSingleTable: false,\r\n  noRowId: false,\r\n  descriptionContent: null\r\n};\r\n\r\nexport default Listing;\r\n","import './ListingItem.scss';\nimport classNames from 'classnames';\nimport React from 'react';\nimport { Link } from 'gatsby';\nimport { GatsbyImage, getImage } from 'gatsby-plugin-image';\n\nimport getOrdinalSuffix from 'ayaka/getOrdinalSuffix';\nimport { type Emperor } from '@/interfaces/Emperor';\nimport { rhythm } from '@/utils/typography';\nimport { displayReignLength } from '@/utils/displayReignLength';\nimport slugToIdentifier from '@/utils/slugToIdentifier';\n\nexport interface ListingItemProps {\n  data: Emperor;\n  group: string | number;\n  groupTotal: number;\n  showGroup: boolean;\n  preserveGroupOrientation?: boolean;\n  preventIdPropRender?: boolean;\n}\n\nexport default function ListingItem({\n  data,\n  group,\n  groupTotal,\n  showGroup,\n  preserveGroupOrientation,\n  preventIdPropRender\n}: ListingItemProps) {\n  const hash = preventIdPropRender ? undefined : slugToIdentifier(data.slug);\n  const image = getImage(data.image);\n  const hasImage = !!image;\n\n  return (\n    <tr id={hash} className=\"emperor\">\n      {showGroup && (\n        <td\n          className={classNames('emperor__group-cell', {\n            'emperor__group-cell--visible': showGroup\n          })}\n          aria-label={`${group}`}\n          column-title=\"\"\n          rowSpan={groupTotal}\n        >\n          <div\n            className={classNames('emperor__group', {\n              'emperor__group--no-rotate': preserveGroupOrientation\n            })}\n            aria-hidden={true}\n          >\n            {group}\n          </div>\n        </td>\n      )}\n      <td\n        style={{ paddingLeft: showGroup ? undefined : rhythm(1 / 2) }}\n        column-title=\"Name\"\n      >\n        <div className=\"image-wrapper\">\n          {hasImage && (\n            <GatsbyImage\n              style={{ flex: '0 0 96px' }}\n              image={image}\n              alt={data.name}\n            />\n          )}\n          <div>\n            <Link style={{ margin: `0 ${rhythm(1 / 4)}` }} to={data.slug}>\n              {data.name}\n            </Link>\n            {data.empire && (\n              <div style={{ margin: `0 ${rhythm(1 / 4)}` }}>\n                ({data.empire})\n              </div>\n            )}\n          </div>\n        </div>\n      </td>\n      <td column-title=\"Succession\" className=\"emperor__max-width-cell\">\n        {data.succession}\n        {data.reignCount && (\n          <div>{getOrdinalSuffix(data.reignCount)} Reign</div>\n        )}\n      </td>\n      <td column-title=\"Reign Start\">{data.reignStart}</td>\n      <td column-title=\"Reign End\">{data.reignEnd}</td>\n      <td column-title=\"Reign Length\" style={{ whiteSpace: 'pre-line' }}>\n        {displayReignLength(data.reignLengthInDays, true)}\n      </td>\n    </tr>\n  );\n}\n","const ONE_YEAR = 365;\r\nconst ONE_MONTH = 30.417;\r\n\r\nexport function displayReignLength(reignInDays: number, newLines = false) {\r\n  let reign = '';\r\n\r\n  const totalDays = Math.round(reignInDays);\r\n\r\n  const dy = totalDays / ONE_YEAR;\r\n  const years = Math.floor(dy);\r\n\r\n  const dm = totalDays / ONE_MONTH;\r\n  const months = Math.floor(dm - years * 12);\r\n\r\n  const days =\r\n    months >= 0\r\n      ? Math.round(totalDays - years * ONE_YEAR - months * ONE_MONTH)\r\n      : 0;\r\n\r\n  if (years > 0) {\r\n    reign += `${years} years`;\r\n\r\n    if (newLines) {\r\n      reign += '\\n';\r\n    }\r\n  }\r\n\r\n  if (months > 0) {\r\n    reign += reign && !newLines ? ', ' : '';\r\n    reign += `${months} months`;\r\n\r\n    if (newLines) {\r\n      reign += '\\n';\r\n    }\r\n  }\r\n\r\n  if (days > 0) {\r\n    reign += reign ? ' and ' : '';\r\n    reign += `${days} days`;\r\n  }\r\n\r\n  return reign;\r\n}\r\n\r\n// 7463.083\r\n","const slugToIdentifier = (slug: string) =>\r\n  slug\r\n    .replace(/\\(.*\\)/g, '')\r\n    .replace(/\\//g, '')\r\n    .replace(/\\(|\\)/g, '')\r\n    .trim();\r\n\r\nexport default slugToIdentifier;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _ClearableInput = _interopRequireDefault(require(\"./ClearableInput\"));\n\nvar _AutocompleteInputSuggestionItem = _interopRequireDefault(require(\"./AutocompleteInputSuggestionItem\"));\n\nvar _enums = require(\"./constants/enums\");\n\nvar _utils = require(\"./utils\");\n\nvar _AutocompleteInput = _interopRequireDefault(require(\"./styles/AutocompleteInput\"));\n\nvar _excluded = [\"filter\", \"attr\", \"noSuggestionsItem\", \"disableLocalFilter\", \"suggestionTemplate\", \"menuClassName\", \"clearableInputProps\", \"items\", \"onChange\", \"onSelect\", \"onKeyDown\", \"suggestionTemplate\"];\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar AutocompleteInput = /*#__PURE__*/function (_React$Component) {\n  (0, _inherits2[\"default\"])(AutocompleteInput, _React$Component);\n\n  var _super = _createSuper(AutocompleteInput);\n\n  function AutocompleteInput(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, AutocompleteInput);\n    _this = _super.call(this, props);\n    _this.state = {\n      inUse: false,\n      activeSuggestion: 0\n    };\n    _this.timer = null;\n    _this.selectAutocompleteSuggestion = _this.selectAutocompleteSuggestion.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.highlightMatch = _this.highlightMatch.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleInputFilter = _this.handleInputFilter.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleKeyDown = _this.handleKeyDown.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleFocus = _this.handleFocus.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleBlur = _this.handleBlur.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(AutocompleteInput, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearTimeout(this.timer);\n      this.timer = null;\n    }\n  }, {\n    key: \"selectAutocompleteSuggestion\",\n    value: function selectAutocompleteSuggestion(id) {\n      if (!id && id !== 0 && !this.props.noSuggestionsItem) {\n        return;\n      }\n\n      this.props.onSelect(id);\n    }\n  }, {\n    key: \"selectActiveSuggestion\",\n    value: function selectActiveSuggestion() {\n      var item = this.filterAutoComplete()[this.state.activeSuggestion];\n      var id = !!item ? item.id : null;\n      this.selectAutocompleteSuggestion(id);\n    }\n  }, {\n    key: \"filterAutoComplete\",\n    value: function filterAutoComplete() {\n      var _this$props = this.props,\n          items = _this$props.items,\n          attr = _this$props.attr,\n          filter = _this$props.filter,\n          disableLocalFilter = _this$props.disableLocalFilter;\n\n      if (!(items && filter)) {\n        return [];\n      }\n\n      if (disableLocalFilter) {\n        return items;\n      }\n\n      var filterLowerCase = filter.toLowerCase();\n      return items.filter(function (x) {\n        return x[attr].toLowerCase().indexOf(filterLowerCase) > -1;\n      });\n    }\n  }, {\n    key: \"updateActiveSuggestion\",\n    value: function updateActiveSuggestion(value) {\n      var maxIndex = this.filterAutoComplete().length - 1;\n      var newValue = this.state.activeSuggestion + value;\n\n      if (newValue > maxIndex) {\n        newValue = 0;\n      }\n\n      if (newValue < 0) {\n        newValue = maxIndex;\n      }\n\n      this.setState({\n        activeSuggestion: newValue\n      });\n    }\n  }, {\n    key: \"highlightMatch\",\n    value: function highlightMatch(value) {\n      var match = value.match(new RegExp(this.props.filter, 'i'));\n\n      if (!match) {\n        return value;\n      }\n\n      var length = this.props.filter.length;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: (0, _classnames[\"default\"])('autocomplete-suggestion__text', _AutocompleteInput[\"default\"].suggestion__text)\n      }, value.slice(0, match.index), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: (0, _classnames[\"default\"])('autocomplete-suggestion-highlight', _AutocompleteInput[\"default\"].suggestionHighlight)\n      }, value.slice(match.index, match.index + length)), value.slice(match.index + length));\n    }\n  }, {\n    key: \"handleInputFilter\",\n    value: function handleInputFilter(event) {\n      this.props.onChange(event);\n      this.setState({\n        activeSuggestion: 0\n      });\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event) {\n      var key = event.key;\n\n      if (key === _enums.EventCodes.Enter && this.props.filter) {\n        event.preventDefault();\n        this.selectActiveSuggestion();\n      } else if (key === _enums.EventCodes.ArrowDown) {\n        this.updateActiveSuggestion(1);\n      } else if (key === _enums.EventCodes.ArrowUp) {\n        this.updateActiveSuggestion(-1);\n      } else if (this.props.onKeyDown) {\n        this.props.onKeyDown(event);\n      }\n    }\n  }, {\n    key: \"handleFocus\",\n    value: function handleFocus(e) {\n      var _this2 = this;\n\n      clearTimeout(this.timer);\n      this.setState({\n        inUse: true\n      }, function () {\n        return _this2.props.onFocus && _this2.props.onFocus(e);\n      });\n    }\n  }, {\n    key: \"handleBlur\",\n    value: function handleBlur(e) {\n      var _this3 = this;\n\n      this.props.onBlur && this.props.onBlur(e);\n      clearTimeout(this.timer);\n      this.timer = setTimeout(function () {\n        if (!_this3.timer) {\n          return;\n        }\n\n        _this3.setState({\n          inUse: false\n        });\n      }, (0, _utils.getTimeoutSeconds)(0.5));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props2 = this.props,\n          filter = _this$props2.filter,\n          attr = _this$props2.attr,\n          noSuggestionsItem = _this$props2.noSuggestionsItem,\n          disableLocalFilter = _this$props2.disableLocalFilter,\n          AutocompleteSuggestionTemplate = _this$props2.suggestionTemplate,\n          menuClassName = _this$props2.menuClassName,\n          clearableInputProps = _this$props2.clearableInputProps,\n          items = _this$props2.items,\n          onChange = _this$props2.onChange,\n          onSelect = _this$props2.onSelect,\n          onKeyDown = _this$props2.onKeyDown,\n          suggestionTemplate = _this$props2.suggestionTemplate,\n          props = (0, _objectWithoutProperties2[\"default\"])(_this$props2, _excluded);\n      var autocomplete = this.filterAutoComplete();\n      var hasOptions = !!this.props.items.length;\n      var hasSuggestions = !!autocomplete.length;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames[\"default\"])('autocomplete', _AutocompleteInput[\"default\"].autocomplete)\n      }, /*#__PURE__*/_react[\"default\"].createElement(_ClearableInput[\"default\"], (0, _extends2[\"default\"])({}, props, {\n        name: attr,\n        value: filter,\n        onChange: this.handleInputFilter,\n        onKeyDown: this.handleKeyDown,\n        onFocus: this.handleFocus,\n        onBlur: this.handleBlur\n      }, clearableInputProps)), !!filter && this.state.inUse && /*#__PURE__*/_react[\"default\"].createElement(\"ul\", {\n        className: (0, _classnames[\"default\"])('autocomplete__menu', _AutocompleteInput[\"default\"].autocomplete__menu, menuClassName)\n      }, hasSuggestions && autocomplete.map(function (item, index) {\n        return /*#__PURE__*/_react[\"default\"].createElement(AutocompleteSuggestionTemplate, {\n          key: item.id,\n          activeSuggestion: _this4.state.activeSuggestion,\n          index: index,\n          attr: attr,\n          item: item,\n          selectAutocompleteSuggestion: _this4.selectAutocompleteSuggestion,\n          highlightMatch: _this4.highlightMatch\n        });\n      }), !hasSuggestions && (hasOptions || disableLocalFilter) && /*#__PURE__*/_react[\"default\"].createElement(\"li\", {\n        key: \"NONE\",\n        className: (0, _classnames[\"default\"])('autocomplete-suggestion', 'autocomplete-suggestion--no-items', 'autocomplete-suggestion--active', _AutocompleteInput[\"default\"].suggestion, _AutocompleteInput[\"default\"].suggestion_noItems)\n      }, !!noSuggestionsItem ? noSuggestionsItem : /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, \"No suggestions available\"))));\n    }\n  }]);\n  return AutocompleteInput;\n}(_react[\"default\"].Component);\n\nAutocompleteInput.displayName = 'AutocompleteInput';\nAutocompleteInput.defaultProps = {\n  disableLocalFilter: false,\n  noSuggestionsItem: null,\n  suggestionTemplate: _AutocompleteInputSuggestionItem[\"default\"],\n  clearableInputProps: {}\n};\nvar _default = AutocompleteInput;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Button = require(\"./Button\");\n\nvar _AutocompleteInput = _interopRequireDefault(require(\"./styles/AutocompleteInput\"));\n\nvar AutocompleteSuggestionItem = function AutocompleteSuggestionItem(props) {\n  var activeSuggestion = props.activeSuggestion,\n      index = props.index,\n      attr = props.attr,\n      item = props.item,\n      highlightMatch = props.highlightMatch,\n      selectAutocompleteSuggestion = props.selectAutocompleteSuggestion;\n  var itemId = item.id;\n  var itemText = item[attr];\n  var isActiveSuggestion = activeSuggestion === index;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"li\", {\n    className: (0, _classnames[\"default\"])('autocomplete-suggestion', {\n      'autocomplete-suggestion--active': isActiveSuggestion\n    }, _AutocompleteInput[\"default\"].suggestion)\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Button.Button, {\n    className: \"autocomplete-suggestion__button\",\n    title: itemText,\n    onClick: function onClick() {\n      return selectAutocompleteSuggestion(itemId);\n    }\n  }, highlightMatch(itemText)));\n};\n\nvar _default = AutocompleteSuggestionItem;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.Input = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _composeReactRefs = _interopRequireDefault(require(\"@seznam/compose-react-refs\"));\n\nvar _Button = require(\"./Button\");\n\nvar _icons = _interopRequireDefault(require(\"./constants/icons\"));\n\nvar _ClearableInput = _interopRequireDefault(require(\"./styles/ClearableInput\"));\n\nvar _shared = _interopRequireDefault(require(\"./styles/shared\"));\n\nvar _excluded = [\"className\"],\n    _excluded2 = [\"containerClassName\", \"className\", \"label\", \"maxNumberText\", \"clearButtonProps\"];\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar Input = /*#__PURE__*/_react[\"default\"].forwardRef(function Input(_ref, ref) {\n  var className = _ref.className,\n      props = (0, _objectWithoutProperties2[\"default\"])(_ref, _excluded);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"input\", (0, _extends2[\"default\"])({\n    ref: ref,\n    type: \"text\",\n    placeholder: \" \",\n    autoComplete: \"off\",\n    className: (0, _classnames[\"default\"])('input', className)\n  }, props));\n});\n\nexports.Input = Input;\n\nvar fakeEvent = function fakeEvent(_ref2) {\n  var type = _ref2.type,\n      name = _ref2.name;\n  return {\n    target: {\n      type: type || 'text',\n      name: name,\n      value: ''\n    }\n  };\n};\n\nvar ClearableInput = /*#__PURE__*/_react[\"default\"].forwardRef(function ClearableInput(_ref3, extRef) {\n  var containerClassName = _ref3.containerClassName,\n      className = _ref3.className,\n      label = _ref3.label,\n      maxNumberText = _ref3.maxNumberText,\n      clearButtonProps = _ref3.clearButtonProps,\n      props = (0, _objectWithoutProperties2[\"default\"])(_ref3, _excluded2);\n  var ref = (0, _react.useRef)();\n  var isTextInput = props.type === 'text' || !props.type;\n  var isNumberInput = props.type === 'number';\n  var isClearable = isTextInput;\n  var hasMaxLength = !!props.maxLength;\n  var hasMaxOrMinNumber = !isNaN(props.max) || !isNaN(props.min);\n  var hasUnderContent = hasMaxLength || hasMaxOrMinNumber;\n\n  function clearAndFocusInput() {\n    props.onChange(fakeEvent(props));\n    ref.current.focus();\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('clearable-input has-float-label', containerClassName, _ClearableInput[\"default\"].clearableInput, _shared[\"default\"].controlContainer, hasUnderContent && _ClearableInput[\"default\"].bumpBottomPadding)\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('clearable-input__inner', _ClearableInput[\"default\"].clearableInput__inner)\n  }, /*#__PURE__*/_react[\"default\"].createElement(Input, (0, _extends2[\"default\"])({}, props, {\n    ref: (0, _composeReactRefs[\"default\"])(ref, extRef),\n    className: (0, _classnames[\"default\"])('clearable-input__input', _ClearableInput[\"default\"].clearableInput__input, isClearable && _ClearableInput[\"default\"].clearableInput__input_clearable, className)\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"label\", {\n    htmlFor: props.id\n  }, label), !!props.value && isTextInput && /*#__PURE__*/_react[\"default\"].createElement(_Button.Button, (0, _extends2[\"default\"])({\n    type: \"button\",\n    btnSize: \"small\",\n    \"aria-label\": \"Clear input\",\n    icon: _icons[\"default\"].cross\n  }, clearButtonProps, {\n    className: (0, _classnames[\"default\"])('clearable-input__clear', _ClearableInput[\"default\"].clearableInput__clear, clearButtonProps.className),\n    onClick: clearAndFocusInput\n  }))), (hasMaxLength || hasMaxOrMinNumber) && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('clearable-input__count', _ClearableInput[\"default\"].clearableInput__count)\n  }, hasMaxLength && isTextInput && \"\".concat(props.value.length, \"/\").concat(props.maxLength), hasMaxOrMinNumber && isNumberInput && maxNumberText(props)));\n});\n\nClearableInput.displayName = 'ClearableInput';\nClearableInput.defaultProps = {\n  maxNumberText: function maxNumberText(props) {\n    return props.max ? \"out of \".concat(props.max || '?') : \"more than \".concat(props.min);\n  },\n  clearButtonProps: {}\n};\nvar _default = ClearableInput;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _usePrevious = require(\"./hooks/usePrevious\");\n\nvar _TabTrap = _interopRequireDefault(require(\"./styles/TabTrap\"));\n\nvar _excluded = [\"isActive\", \"firstId\", \"lastId\", \"element\", \"onDeactivate\", \"children\"];\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar TabTrap = /*#__PURE__*/_react[\"default\"].forwardRef(function TabTrap(_ref, _ref2) {\n  var isActive = _ref.isActive,\n      firstId = _ref.firstId,\n      lastId = _ref.lastId,\n      element = _ref.element,\n      onDeactivate = _ref.onDeactivate,\n      children = _ref.children,\n      passProps = (0, _objectWithoutProperties2[\"default\"])(_ref, _excluded);\n  var Container = element;\n  var prevActive = (0, _usePrevious.usePrevious)(isActive);\n  var internalRef = (0, _react.useRef)();\n  (0, _react.useEffect)(function () {\n    var nowActive = !prevActive && isActive;\n    var wasActive = !isActive && prevActive;\n\n    if (nowActive) {\n      requestAnimationFrame(function () {\n        var target = internalRef.current.querySelector(\"#\".concat(firstId));\n\n        if (target) {\n          target.focus();\n        }\n      });\n    } else if (wasActive && onDeactivate) {\n      onDeactivate();\n    }\n  }, [internalRef, isActive, prevActive, firstId, onDeactivate]);\n\n  function focusCycler(e) {\n    e.persist();\n    var prev = e.relatedTarget;\n    var isPrevATrap = prev && prev.className.includes('tab-trap');\n    var isCurrTopTrap = e.target.className.includes('tab-trap--top');\n\n    if (isPrevATrap) {\n      var targetId = isCurrTopTrap ? firstId : lastId;\n      var targetElement = internalRef.current.querySelector(\"#\".concat(targetId));\n      targetElement.focus();\n      return;\n    }\n\n    var nextTrapClass = isCurrTopTrap ? '.tab-trap--bottom' : '.tab-trap--top';\n    var nextTrap = internalRef.current.querySelector(nextTrapClass);\n\n    if (nextTrap === document.activeElement) {\n      var _targetElement = internalRef.current.querySelector(\"#\".concat(firstId));\n\n      _targetElement.focus();\n\n      return;\n    }\n\n    nextTrap.focus();\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(Container, (0, _extends2[\"default\"])({\n    ref: function ref(elementRef) {\n      internalRef.current = elementRef;\n      _ref2.hasOwnProperty('current') ? _ref2.current = elementRef : _ref2(elementRef);\n    }\n  }, passProps), isActive && /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n    type: \"text\",\n    className: (0, _classnames[\"default\"])('tab-trap tab-trap--top', _TabTrap[\"default\"].tabTrap),\n    onFocus: focusCycler\n  }), children, isActive && /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n    type: \"text\",\n    className: (0, _classnames[\"default\"])('tab-trap tab-trap--bottom', _TabTrap[\"default\"].tabTrap),\n    onFocus: focusCycler\n  }));\n});\n\nTabTrap.defaultProps = {\n  element: 'div'\n};\nvar _default = TabTrap;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ViewOptionEnum = exports.PositionEnum = exports.OPEN_KEYS = exports.KeyCodes = exports.EventCodes = exports.CLOSE_KEYS = exports.ARROW_KEYS = void 0;\nvar PositionEnum = Object.freeze({\n  left: 'left',\n  center: 'center',\n  right: 'right'\n});\nexports.PositionEnum = PositionEnum;\nvar ViewOptionEnum = Object.freeze({\n  DUMMY_DAY: 1,\n  DAY: 2,\n  MONTH: 3\n}); // Use with event.key\n\nexports.ViewOptionEnum = ViewOptionEnum;\nvar EventCodes = Object.freeze({\n  ArrowDown: 'ArrowDown',\n  ArrowLeft: 'ArrowLeft',\n  ArrowRight: 'ArrowRight',\n  ArrowUp: 'ArrowUp',\n  Backspace: 'Backspace',\n  Enter: 'Enter',\n  Escape: 'Escape',\n  Space: ' ',\n  KeyQ: 'q',\n  KeyS: 's',\n  KeyG: 'g'\n});\nexports.EventCodes = EventCodes;\nvar KeyCodes = Object.freeze({\n  q: 81,\n  backspace: 8,\n  enter: 13,\n  escape: 27,\n  up: 38,\n  down: 40,\n  space: 32\n});\nexports.KeyCodes = KeyCodes;\nvar CLOSE_KEYS = [KeyCodes.space, KeyCodes.enter, KeyCodes.escape, EventCodes.Space, EventCodes.Enter, EventCodes.Escape];\nexports.CLOSE_KEYS = CLOSE_KEYS;\nvar OPEN_KEYS = [KeyCodes.space, KeyCodes.enter, EventCodes.Space, EventCodes.Enter];\nexports.OPEN_KEYS = OPEN_KEYS;\nvar ARROW_KEYS = [EventCodes.ArrowUp, EventCodes.ArrowDown, EventCodes.ArrowLeft, EventCodes.ArrowRight];\nexports.ARROW_KEYS = ARROW_KEYS;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useOutsideClick = useOutsideClick;\n\nvar _react = require(\"react\");\n\nvar _addOutsideClick = _interopRequireDefault(require(\"../utils/addOutsideClick\"));\n\nfunction useOutsideClick(element, onOutsideClick) {\n  (0, _react.useEffect)(function () {\n    if (!element) {\n      return;\n    }\n\n    var removeOnOutsideClick = (0, _addOutsideClick[\"default\"])(element, onOutsideClick);\n    return function () {\n      return removeOnOutsideClick();\n    };\n  }, [element, onOutsideClick]);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.usePrevious = usePrevious;\n\nvar _react = require(\"react\");\n\nfunction usePrevious(value) {\n  var ref = (0, _react.useRef)();\n  (0, _react.useEffect)(function () {\n    ref.current = value;\n  });\n  return ref.current;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _nano = require(\"./nano\");\n\nvar _variables = require(\"./variables\");\n\nvar _default = (0, _nano.sheet)({\n  autocomplete: {\n    position: 'relative',\n    display: 'flex',\n    flex: '1 1 100%'\n  },\n  autocomplete__menu: {\n    position: 'absolute',\n    right: 0,\n    bottom: 0,\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    padding: '5px',\n    margin: '5px 0',\n    listStyleType: 'none',\n    '& li': {\n      flexBasis: '100%'\n    },\n    maxHeight: '250px',\n    overflow: 'auto',\n    zIndex: _variables.zIndexes.get('menu'),\n    boxShadow: '2px 2px 10px 2px rgba(0, 0, 0, 0.5)',\n    transform: 'translateY(100%)'\n  },\n  suggestion: {\n    border: '1px solid transparent',\n    button: {\n      width: '100%'\n    }\n  },\n  suggestion__text: {\n    whiteSpace: 'pre-line'\n  },\n  suggestionHighlight: {\n    fontWeight: 'bold'\n  },\n  suggestion_noItems: {\n    fontSize: '13.33px',\n    textAlign: 'center'\n  }\n});\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _nano = require(\"./nano\");\n\nvar clearableInputStyles = {\n  clearableInput: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  bumpBottomPadding: {\n    paddingBottom: '8px'\n  },\n  clearableInput__inner: {\n    position: 'relative',\n    display: 'flex',\n    width: '100%'\n  },\n  clearableInput__input: {\n    display: 'flex',\n    width: '100%',\n    maxWidth: '100%'\n  },\n  clearableInput__input_clearable: {\n    paddingRight: '1.5em !important'\n  },\n  clearableInput__clear: {\n    position: 'absolute !important',\n    top: '50%',\n    right: '0px',\n    transform: 'translateY(-50%)',\n    height: '1.5em',\n    width: '1.5em',\n    padding: '0 !important',\n    margin: 'auto 0 !important'\n  },\n  clearableInput__count: {\n    position: 'absolute',\n    right: '5px',\n    bottom: '0',\n    top: 'auto',\n    left: 'auto',\n    fontSize: '0.5em'\n  },\n  clearableInput__error: {\n    color: '#f00',\n    padding: '0 5px',\n    fontSize: '0.65em'\n  }\n};\n\nvar _default = (0, _nano.sheet)(clearableInputStyles);\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _nano = require(\"./nano\");\n\nvar _default = (0, _nano.sheet)({\n  tabTrap: {\n    position: 'absolute',\n    height: 0,\n    width: 0,\n    padding: 0,\n    border: 'none',\n    margin: 0,\n    opacity: 0\n  }\n});\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = addOutsideClick;\n\nvar _enums = require(\"../constants/enums\");\n\nfunction addListener(event, cb) {\n  document.addEventListener(event, cb);\n  return function () {\n    return document.removeEventListener(event, cb);\n  };\n}\n\nfunction addOutsideClick(element, onOutsideClick) {\n  function handleClick(event) {\n    var isDescendantOfRoot = element.contains(event.target);\n\n    if (!isDescendantOfRoot) {\n      onOutsideClick(event);\n    }\n  }\n\n  function handleKeyDown(event) {\n    if (_enums.EventCodes.Escape === event.key) {\n      onOutsideClick(event);\n    }\n  }\n\n  var removeKeyDown = addListener('keydown', handleKeyDown);\n  var removeClick = addListener('click', handleClick);\n  return function () {\n    removeKeyDown();\n    removeClick();\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"adjustDateDay\", {\n  enumerable: true,\n  get: function get() {\n    return _adjustDateDay[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"adjustDateMonth\", {\n  enumerable: true,\n  get: function get() {\n    return _adjustDateMonth[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"adjustDateYear\", {\n  enumerable: true,\n  get: function get() {\n    return _adjustDateYear[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"capitalise\", {\n  enumerable: true,\n  get: function get() {\n    return _capitalise.capitalise;\n  }\n});\nObject.defineProperty(exports, \"checkIfDatePartsMatch\", {\n  enumerable: true,\n  get: function get() {\n    return _checkIfDatePartsMatch[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"convertToBase64\", {\n  enumerable: true,\n  get: function get() {\n    return _convertToBase[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"debounce\", {\n  enumerable: true,\n  get: function get() {\n    return _debounce[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"formatDateForInput\", {\n  enumerable: true,\n  get: function get() {\n    return _formatDateForInput[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"generateUniqueId\", {\n  enumerable: true,\n  get: function get() {\n    return _generateUniqueId[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"getDaysInMonthForDate\", {\n  enumerable: true,\n  get: function get() {\n    return _getDaysInMonthForDate[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"getDifferenceFromMonday\", {\n  enumerable: true,\n  get: function get() {\n    return _daysDifferenceFromMonday[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"getDifferenceFromSunday\", {\n  enumerable: true,\n  get: function get() {\n    return _daysDifferenceFromSunday[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"getElementCoordinates\", {\n  enumerable: true,\n  get: function get() {\n    return _getElementCoordinates[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"getEventValue\", {\n  enumerable: true,\n  get: function get() {\n    return _getEventValue[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"getFirstDateOfMonth\", {\n  enumerable: true,\n  get: function get() {\n    return _getFirstDateOfMonth[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"getLastDateOfMonth\", {\n  enumerable: true,\n  get: function get() {\n    return _getLastDateOfMonth[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"getMonthName\", {\n  enumerable: true,\n  get: function get() {\n    return _getMonthName[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"getTimeoutSeconds\", {\n  enumerable: true,\n  get: function get() {\n    return _getTimeout.getTimeoutSeconds;\n  }\n});\nObject.defineProperty(exports, \"isArray\", {\n  enumerable: true,\n  get: function get() {\n    return _isArray[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"isBefore\", {\n  enumerable: true,\n  get: function get() {\n    return _isBefore.isBefore;\n  }\n});\nObject.defineProperty(exports, \"isBeforeOrEqual\", {\n  enumerable: true,\n  get: function get() {\n    return _isBefore.isBeforeOrEqual;\n  }\n});\nObject.defineProperty(exports, \"isNumber\", {\n  enumerable: true,\n  get: function get() {\n    return _isNumber[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"isObject\", {\n  enumerable: true,\n  get: function get() {\n    return _isObject[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"isString\", {\n  enumerable: true,\n  get: function get() {\n    return _isString[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"startOfDay\", {\n  enumerable: true,\n  get: function get() {\n    return _startOfDay[\"default\"];\n  }\n});\n\nvar _adjustDateDay = _interopRequireDefault(require(\"ayaka/adjustDateDay\"));\n\nvar _adjustDateMonth = _interopRequireDefault(require(\"ayaka/adjustDateMonth\"));\n\nvar _adjustDateYear = _interopRequireDefault(require(\"ayaka/adjustDateYear\"));\n\nvar _capitalise = require(\"ayaka/capitalise\");\n\nvar _checkIfDatePartsMatch = _interopRequireDefault(require(\"ayaka/checkIfDatePartsMatch\"));\n\nvar _convertToBase = _interopRequireDefault(require(\"ayaka/convertToBase64\"));\n\nvar _debounce = _interopRequireDefault(require(\"ayaka/debounce\"));\n\nvar _formatDateForInput = _interopRequireDefault(require(\"ayaka/formatDateForInput\"));\n\nvar _generateUniqueId = _interopRequireDefault(require(\"ayaka/generateUniqueId\"));\n\nvar _getDaysInMonthForDate = _interopRequireDefault(require(\"ayaka/getDaysInMonthForDate\"));\n\nvar _daysDifferenceFromMonday = _interopRequireDefault(require(\"ayaka/daysDifferenceFromMonday\"));\n\nvar _daysDifferenceFromSunday = _interopRequireDefault(require(\"ayaka/daysDifferenceFromSunday\"));\n\nvar _getElementCoordinates = _interopRequireDefault(require(\"ayaka/getElementCoordinates\"));\n\nvar _getEventValue = _interopRequireDefault(require(\"ayaka/getEventValue\"));\n\nvar _getFirstDateOfMonth = _interopRequireDefault(require(\"ayaka/getFirstDateOfMonth\"));\n\nvar _getLastDateOfMonth = _interopRequireDefault(require(\"ayaka/getLastDateOfMonth\"));\n\nvar _getMonthName = _interopRequireDefault(require(\"ayaka/getMonthName\"));\n\nvar _getTimeout = require(\"ayaka/getTimeout\");\n\nvar _isArray = _interopRequireDefault(require(\"ayaka/isArray\"));\n\nvar _isBefore = require(\"ayaka/isBefore\");\n\nvar _isNumber = _interopRequireDefault(require(\"ayaka/isNumber\"));\n\nvar _isObject = _interopRequireDefault(require(\"ayaka/isObject\"));\n\nvar _isString = _interopRequireDefault(require(\"ayaka/isString\"));\n\nvar _startOfDay = _interopRequireDefault(require(\"ayaka/startOfDay\"));","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction composeRefs() {\n    var refs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        refs[_i] = arguments[_i];\n    }\n    if (refs.length === 2) { // micro-optimize the hot path\n        return composeTwoRefs(refs[0], refs[1]) || null;\n    }\n    var composedRef = refs.slice(1).reduce(function (semiCombinedRef, refToInclude) { return composeTwoRefs(semiCombinedRef, refToInclude); }, refs[0]);\n    return composedRef || null;\n}\nexports.default = composeRefs;\nvar composedRefCache = new WeakMap();\nfunction composeTwoRefs(ref1, ref2) {\n    if (ref1 && ref2) {\n        var ref1Cache = composedRefCache.get(ref1) || new WeakMap();\n        composedRefCache.set(ref1, ref1Cache);\n        var composedRef = ref1Cache.get(ref2) || (function (instance) {\n            updateRef(ref1, instance);\n            updateRef(ref2, instance);\n        });\n        ref1Cache.set(ref2, composedRef);\n        return composedRef;\n    }\n    if (!ref1) {\n        return ref2;\n    }\n    else {\n        return ref1;\n    }\n}\nfunction updateRef(ref, instance) {\n    if (typeof ref === 'function') {\n        ref(instance);\n    }\n    else {\n        ref.current = instance;\n    }\n}\n//# sourceMappingURL=composeRefs.js.map","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;"],"names":["UPPERCASE","LOWERCASE","LEADING_CAPITAL","IDENTIFIER","SEPARATORS","LEADING_SEPARATORS","RegExp","source","SEPARATORS_AND_IDENTIFIER","NUMBERS_AND_IDENTIFIER","camelCase","input","options","Array","isArray","TypeError","pascalCase","preserveConsecutiveUppercase","map","x","trim","filter","length","join","toLowerCase","locale","string","toLocaleLowerCase","toUpperCase","toLocaleUpperCase","isLastCharLower","isLastCharUpper","isLastLastCharUpper","i","character","test","slice","preserveCamelCase","replace","lastIndex","m1","charAt","_","identifier","m","postProcess","module","exports","hasOwn","hasOwnProperty","classNames","classes","arguments","arg","argType","push","inner","apply","toString","Object","prototype","includes","key","call","default","date","adjustment","d","Date","getFullYear","getMonth","getDate","adjustDateDay","adjustDateMonth","adjustDateYear","_compose","_interopRequireDefault","require","_fromCamelCase","capitalise","str","capitaliseEachWord","split","separateAndCapitalise","separateAndCapitaliseAll","d1","d2","dx","dy","year","month","checkIfDatePartsMatch","_len","fns","_key","reduce","f","g","compose","freeze","object","number","file","callback","reader","FileReader","onloadend","readAsDataURL","convertToBase64","_getDatesAsMsAtMidnight","_getDatesAsMsAtMidnig2","_slicedToArray","datesAreEqual","MS_DAY","a","getTime","b","Math","floor","daysDifferenceBetweenDates","_daysDifferenceBetweenDates","_getWeekBeginning","abs","daysDifferenceFromMonday","_getWeekEnding","daysDifferenceFromSunday","timers","t","clearTimeout","setTimeout","debounce","_padNumber","concat","formatDateForInput","separator","undefined","fromCamelCase","s","c","Number","window","crypto","getRandomValues","Uint8Array","generateUniqueId","_startOfDay","dates","getDatesAsMsAtMidnight","getDaysInMonthForDate","elem","box","getBoundingClientRect","body","document","docEl","documentElement","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","clientWidth","clientHeight","top","left","round","right","width","bottom","height","target","type","checked","value","InputTypes","Checkbox","valueTypes","_parseIfInt","Text","Url","setDate","getFirstDateOfMonth","getLastDateOfMonth","_monthNames","getMonthName","j","k","getTimeoutSeconds","weekBeginning","weekEnding","check","day","getDay","diff","getWeekExtreme","v","_datesAreEqual","isBefore","_types","isNumber","isObject","isString","_typeof","isTypeOf","n","z","val","num","parseInt","isNaN","h","setTimeForDate","startOfDay","hasNativeLazyLoadSupport","HTMLImageElement","T","e","Boolean","images","fallback","src","gatsbyImageData","gatsbyImage","childImageSharp","className","style","O","loading","shouldLoad","opacity","r","o","l","backgroundColor","position","objectFit","objectPosition","transition","P","A","_ref5","layout","paddingTop","maxWidth","display","alt","role","q","children","u","H","F","G","srcSet","decoding","V","sources","sizes","_ref6","media","B","propTypes","displayName","U","Y","Error","X","J","Z","K","Q","ee","image","te","ae","ie","Set","se","re","ne","as","class","onStartLoad","p","onLoad","onError","w","y","E","S","M","N","$","JSON","stringify","I","then","_ref7","renderImageToString","swapPlaceholderImage","current","querySelector","complete","wasCached","removeAttribute","addEventListener","removeEventListener","add","has","_ref8","innerHTML","isLoading","isLoaded","requestAnimationFrame","cancelAnimationFrame","ref","dangerouslySetInnerHTML","__html","suppressHydrationWarning","oe","le","de","__imageData","__error","console","warn","ce","imgClassName","imgStyle","placeholder","he","_len2","_key2","ue","ge","pe","exceptionClasses","_ref","data","useRef","timer","show","setShow","useState","text","setText","displayStyle","visibility","pointerEvents","marginTop","getStyle","typeAheadItems","id","slug","name","onClose","useOutsideClick","isEscape","EventCodes","noTarget","isNotException","some","useEffect","listenShortcut","event","_document$getElementB2","getElementById","focus","React","TabTrap","isActive","firstId","lastId","padding","rhythm","margin","minWidth","transform","boxShadow","zIndex","AutocompleteInput","attr","items","label","onChange","_e$currentTarget$valu","_e$currentTarget","currentTarget","onSelect","emperorSlug","hash","_document$getElementB","navigate","slugToIdentifier","noSuggestionsItem","Table","headers","showHeaders","isSortDesc","sortKey","activeSortKey","onSort","props","mounted","useMountedOnClient","sortIcon","Icons","assign","_ref2","_x$style","isActiveSort","Button","justifyContent","onClick","alignItems","defaultProps","random","Listing","title","showInSingleTable","ItemRenderer","listItemComponent","groups","fn","Map","activeKey","item","group","get","every","set","orderedGroupBy","grouping","tableGroups","from","entries","color","descriptionContent","grp","groupTotal","showGroup","preserveGroupOrientation","preventIdPropRender","noRowId","onSortToggle","_ref3","getImage","hasImage","rowSpan","paddingLeft","GatsbyImage","flex","Link","to","empire","succession","reignCount","getOrdinalSuffix","reignStart","reignEnd","whiteSpace","displayReignLength","reignLengthInDays","ONE_MONTH","reignInDays","newLines","reign","totalDays","years","dm","months","days","_extends2","_objectWithoutProperties2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_classnames","_react","_ClearableInput","_AutocompleteInputSuggestionItem","_enums","_utils","_AutocompleteInput","_excluded","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","valueOf","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","_React$Component","_super","_this","state","inUse","activeSuggestion","selectAutocompleteSuggestion","bind","highlightMatch","handleInputFilter","handleKeyDown","handleFocus","handleBlur","filterAutoComplete","_this$props","disableLocalFilter","filterLowerCase","indexOf","maxIndex","newValue","setState","match","createElement","suggestion__text","index","suggestionHighlight","Enter","preventDefault","selectActiveSuggestion","ArrowDown","updateActiveSuggestion","ArrowUp","onKeyDown","_this2","onFocus","_this3","onBlur","_this4","_this$props2","AutocompleteSuggestionTemplate","suggestionTemplate","menuClassName","clearableInputProps","autocomplete","hasOptions","hasSuggestions","autocomplete__menu","suggestion","suggestion_noItems","Component","_default","defineProperty","_Button","itemId","itemText","isActiveSuggestion","Input","obj","nodeInterop","__esModule","cache","_getRequireWildcardCache","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","_interopRequireWildcard","_composeReactRefs","_icons","_shared","_excluded2","WeakMap","cacheBabelInterop","cacheNodeInterop","forwardRef","autoComplete","ClearableInput","extRef","containerClassName","maxNumberText","clearButtonProps","isTextInput","isNumberInput","isClearable","hasMaxLength","maxLength","hasMaxOrMinNumber","max","min","hasUnderContent","clearableInput","controlContainer","bumpBottomPadding","clearableInput__inner","clearableInput__input","clearableInput__input_clearable","htmlFor","btnSize","icon","cross","clearableInput__clear","clearableInput__count","_usePrevious","_TabTrap","element","onDeactivate","passProps","Container","prevActive","usePrevious","internalRef","focusCycler","persist","prev","relatedTarget","isPrevATrap","isCurrTopTrap","targetId","nextTrapClass","nextTrap","activeElement","wasActive","elementRef","tabTrap","ViewOptionEnum","PositionEnum","OPEN_KEYS","KeyCodes","CLOSE_KEYS","ARROW_KEYS","center","DUMMY_DAY","DAY","MONTH","ArrowLeft","ArrowRight","Backspace","Escape","Space","KeyQ","KeyS","KeyG","backspace","enter","escape","up","down","space","onOutsideClick","removeOnOutsideClick","_addOutsideClick","_nano","_variables","sheet","flexDirection","listStyleType","flexBasis","maxHeight","overflow","zIndexes","border","button","fontWeight","fontSize","textAlign","paddingBottom","paddingRight","clearableInput__error","removeKeyDown","addListener","removeClick","contains","cb","enumerable","_adjustDateDay","_adjustDateMonth","_adjustDateYear","_capitalise","_checkIfDatePartsMatch","_convertToBase","_debounce","_formatDateForInput","_generateUniqueId","_getDaysInMonthForDate","_daysDifferenceFromMonday","_daysDifferenceFromSunday","_getElementCoordinates","_getEventValue","_getFirstDateOfMonth","_getLastDateOfMonth","_getMonthName","_getTimeout","_isArray","_isBefore","isBeforeOrEqual","_isNumber","_isObject","_isString","refs","_i","composeTwoRefs","composedRef","semiCombinedRef","refToInclude","composedRefCache","ref1","ref2","ref1Cache","instance","updateRef","Constructor","toPropertyKey","_defineProperties","descriptor","configurable","writable","protoProps","staticProps","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","subClass","superClass","create","assertThisInitialized","self"],"sourceRoot":""}